<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"><head><meta charset="utf-8"><meta name="generator" content="ReSpec 24.21.1"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style>/* --- EXAMPLES --- */
span.example-title {
    text-transform: none;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

dl.elemdef {
    border-left: 0.5em solid rgb(145,200,255);
    background-color: rgb(236,246,255);
    padding: 0.5em 1em;
	margin-bottom: 2em;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example span.example-title {
    color: #999;
}

em.rfc2119 {
	font-style: normal;
	font-weight: bold;
}

</style><style>/* --- ISSUES/NOTES --- */
.issue-label {
    text-transform: initial;
}

.warning > p:first-child { margin-top: 0 }
.warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
span.warning { padding: .1em .5em .15em; }

.issue.closed span.issue-number {
    text-decoration: line-through;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}

.issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
  border: none;
}

.issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
}

.issue a.respec-label-light {
  color: #000;
  background-color: #fff;
}
</style>
		
		<title>EPUB開放容器格式3.2</title>
		<style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

@keyframes pop {
  0% {
    transform: scale(1, 1);
  }
  25% {
    transform: scale(1.25, 1.25);
    opacity: 0.75;
  }
  100% {
    transform: scale(1, 1);
  }
}

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

.respec-offending-element:target {
  animation: pop 0.25s ease-in-out 0s 1;
}

/* TODO: Remove once https://github.com/w3c/tr-design/pull/176 is merged. */
.respec-offending-element a [href] {
  margin: 0;
}

.respec-offending-element {
  display: inline-block;
  position: relative;
  /* Red squiggly line */
  background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=)
    bottom repeat-x;
}
@supports (text-decoration-style: wavy) {
  .respec-offending-element {
    background: none;
    text-decoration-line: underline;
    text-decoration-style: wavy;
    text-decoration-color: red;
  }
}

#references :target {
  background: #eaf3ff;
  animation: pop 0.4s ease-in-out 0s 1;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

a [href] .orcid {
    padding-left: 4px;
    padding-right: 4px;
}

a [href] .orcid > svg {
    margin-bottom: -2px;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

/* styles for prefix mapping tables */

table.mapping {
    border-collapse: collapse;
}

table.mapping th,
table.mapping td {
    padding: 0.5em;
    border-bottom: 1px solid rgb(0,90,156);
}

table.mapping tr > td:first-child {
    border-right: 1px solid rgb(220,220,220);
}


/*  EBNF tables */


table.productionset {
    border: none;
    border-left: 5px solid rgb(145,200,255);
    background-color: rgb(236,246,255);
}

table.productionset caption {
	text-align: left;
	font-size: 80%;
	font-style: normal;
}

table.productionset tbody tr {
    border: none;
}

table.productionset tbody tr td {
    border: none;
    padding: 0.5em;
    border-bottom: 1px solid #ddd;
}

table.productionset tbody tr td a {
    text-decoration: none;
    border-bottom: 1px dotted #000090;
}

table.productionset tbody tr td a:hover {
    text-decoration: underline;
}

table.productionset tbody tr td a:visited,
table.productionset tbody tr td a:active,
table.productionset tbody tr td a:hover {
    color: #000090;
}

a.deprecated,
a.legacy {
	font-size: 85%;
	text-transform: uppercase;
}

/* styles for core media types */

table#tbl-core-media-types {
    border-spacing: 0px;
    padding: 1em;
    margin-top: 1.5em;
    margin-bottom: 2em;    
}

table#tbl-core-media-types th {
    border-bottom: 1px solid #005A9C;
    font-weight: bold;
    padding: 0.5em;
    font-weight: bold;
    color: #000090;
    font-size: 90%
}

table#tbl-core-media-types td {
    border-bottom: 1px solid #005A9C;
    border-right: 1px solid #efefef;
    padding: 0.5em;
    text-align: left
}

table#tbl-core-media-types tr td:last-child {
    border-right: none;
}

table#tbl-core-media-types td *, table#tbl-core-media-types td > * {
    text-align: left;
}

table#tbl-core-media-types, table#tbl-core-media-types tbody {
    padding: 0;
}

table#tbl-core-media-types caption {
    text-align: left;
    font-size: 90%
}

.tbl-group {
	text-align: left;
	border-bottom: none;
	color: rgb(0, 0, 0);
	background-color: rgb(240, 248, 255);
}

table#tbl-core-media-types > thead > tr > th {
    background-color: rgb(240,240,240);
    text-align: left;
    white-space:nowrap;
}

table#tbl-core-media-types > tbody > tr > th {    
    text-align: left;
    font-weight: normal;
    font-style: italic;
    padding: 3px;
}

table#tbl-core-media-types td, table#tbl-core-media-types th, table#tbl-core-media-types tr {
    border-color: #005A9C;
    margin: 0em;
}

table#tbl-core-media-types td code, table#tbl-core-media-types td a {
    white-space:nowrap;
}

td[headers="tbl-cmt-appl"] {
    font-size: .9em;
}




/****************************************************/
/*  property tables                                 */
/****************************************************/

/* ensure confomity of width for property tables */
section.vocab table {
	border-spacing: 0px;
	border: none;
	font-size: 1em;
	width: 100%
}

section.vocab table td, table th {
	border: none;
	background-color: rgb(236,246,255);
	color: rgb(0,0,0);
	padding: 0.3em;
	vertical-align: top;
}

section.vocab table th {
    text-align: left;
	vertical-align: top;
    width: 8em;
    border-right: 1px solid rgb(145,200,255);
}

section.vocab table th {
    border-left: 5px solid rgb(145,200,255);
}

section.vocab td {
    padding: 3px 3px 3px 10px;
}

section.vocab td > p:first-child {
	padding: 0em;
	margin: 0em
}


/* Reserved prefix tables */

table.prefix {
    border-spacing: 0px;
    padding: 1em;
    margin-top: 1.5em;
    margin-bottom: 2em;    
}
table.prefix th {
    border-bottom: 1px solid #005A9C;
    font-weight: bold;
    padding: 0.5em;
    font-weight: bold;
    color: #000090;
    font-size: 90%
}
table.prefix td {
    border-bottom: 1px solid #005A9C;
    border-right: 1px solid #efefef;
    padding: 0.5em;
    text-align: left
}
table.prefix tr td:last-child {
    border-right: none;
}
table.prefix td *, table.prefix td > * {
    text-align: left;
}
table.prefix, table.prefix tbody {
    padding: 0;
}

table.prefix caption {
    text-align: left;
    font-size: 90%
}



table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th [scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd > p:first-child {
  margin-top: 0;
}

.section dd > p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary > ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details > * {
  padding-right: 2em;
}

details.respec-tests-details [open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
}

details.respec-tests-details [open] > summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details > ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details > li {
  padding-left: 1em;
}

a [href] .self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
}

h2,
h3,
h4,
h5,
h6 {
  position: relative;
}

aside.example .marker > a.self-link {
  color: inherit;
}

h2 > a.self-link,
h3 > a.self-link,
h4 > a.self-link,
h5 > a.self-link,
h6 > a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: 0.5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity 0.2s;
  width: 2em;
}

h2 > a.self-link::before,
h3 > a.self-link::before,
h4 > a.self-link::before,
h5 > a.self-link::before,
h6 > a.self-link::before {
  content: "§";
  display: block;
}

@media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2 > a.self-link,
  h3 > a.self-link,
  h4 > a.self-link,
  h5 > a.self-link,
  h6 > a.self-link {
    left: auto;
    top: auto;
  }
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style>
		
		
		
		
		<link href="common/css/common.css" rel="stylesheet" type="text/css">
		
	<link rel="canonical" href="https://www.w3.org/publishing/epub3/epub-ocf.html"><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style><style>var {
  position: relative;
  cursor: pointer;
  display: inline-block;
}

var [data-type] ::before,
var [data-type] ::after {
  position: absolute;
  left: 50%;
  top: -6px;
  opacity: 0;
  transition: opacity 0.4s;
  pointer-events: none;
}

/* the triangle or arrow or caret or whatever */
var [data-type] ::before {
  content: "";
  transform: translateX(-50%);
  border-width: 4px 6px 0 6px;
  border-style: solid;
  border-color: transparent;
  border-top-color: #000;
}

/* actual text */
var [data-type] ::after {
  content: attr(data-type);
  transform: translateX(-50%) translateY(-100%);
  background: #000;
  text-align: center;
  /* additional styling */
  font-family: "Dank Mono", "Fira Code", monospace;
  font-style: normal;
  padding: 6px;
  border-radius: 3px;
  color: #daca88;
}

var [data-type] :hover::after,
var [data-type] :hover::before {
  opacity: 1;
}
</style><script id="initialUserConfig" type="application/json">{
  "wg": "EPUB 3 Community Group",
  "wgURI": "https://www.w3.org/community/epub3/",
  "wgPublicList": "public-epub3",
  "specStatus": "CG-FINAL",
  "noRecTrack": true,
  "shortName": "epub-ocf",
  "prevRecURI": "https://www.idpf.org/epub/31/spec/epub-ocf-20170105.html",
  "edDraftURI": "https://w3c.github.io/publ-epub-revision/epub32/spec/epub-ocf.html",
  "copyrightStart": "1999",
  "editors": [
    {
      "name": "Garth Conboy",
      "company": "Google",
      "companyURL": "https://www.google.com"
    }
  ] ,
  "formerEditors": [
    {
      "name": "James Pritchett",
      "company": "Learning Ally",
      "companyURL": "https://www.learningally.org/"
    },
    {
      "name": "Markus Gylling",
      "company": "International Digital Publishing Forum (IDPF)",
      "companyURL": "https://www.idpf.org"
    }
  ] ,
  "processVersion": 2017,
  "includePermalinks": true,
  "permalinkEdge": true,
  "permalinkHide": false,
  "diffTool": "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
  "github": {
    "repoURL": "https://github.com/w3c/publ-epub-revision",
    "branch": "master"
  },
  "localBiblio": {
    "A11YTestSuite": {
      "title": "EPUB Accessibility Tests",
      "href": "https://github.com/daisy/epub-accessibility-tests"
    },
    "AccessibilityFAQ": {
      "title": "EPUB Accessibility Frequently Asked Questions",
      "href": "http://www.idpf.org/epub/guides/a11y-faq"
    },
    "AccessibilityVocab": {
      "title": "EPUB Accessibility Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/package/a11y"
    },
    "AltStyleTags": {
      "title": "Alternate Style Tags",
      "href": "http://www.idpf.org/epub/altss-tags/",
      "authors": [
        "Elika J. Etemad"
      ] 
    },
    "AttributeExtensions": {
      "title": "EPUB Custom Attribute Extensions for Content Documents",
      "href": "http://www.idpf.org/epub/extensions/attributes"
    },
    "AuthorityRegistry": {
      "title": "EPUB Subject Authorities Registry",
      "href": "https://www.idpf.org/epub/registries/authorities/"
    },
    "CollectionPackageDoc": {
      "title": "Using collection Elements as Embedded Package Documents",
      "href": "http://www.idpf.org/epub/guides/collection-as-package"
    },
    "ContentDocs": {
      "title": "EPUB Content Documents 3",
      "href": "http://www.idpf.org/epub3/latest/contentdocs"
    },
    "ContentDocs32": {
      "title": "EPUB Content Documents 3.2",
      "href": "epub-contentdocs.html"
    },
    "ContentDocs31": {
      "title": "EPUB Content Documents 3.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-contentdocs.html"
    },
    "ContentDocs301": {
      "title": "EPUB Content Documents 3.0.1",
      "href": "http://www.idpf.org/epub/301/spec/epub-contentdocs.html"
    },
    "ContentDocs30": {
      "title": "EPUB Content Documents 3.0",
      "href": "http://www.idpf.org/epub/30/spec/epub30-contentdocs.html"
    },
    "ContentDocsPrefixes": {
      "title": "EPUB Content Documents Reserved Prefixes",
      "href": "http://www.idpf.org/epub/vocab/structure/pfx"
    },
    "CSSSnapshot": {
      "title": "CSS Snapshot",
      "href": "https://www.w3.org/TR/CSS/",
      "id": "csssnapshot"
    },
    "CSS2": {
      "title": "CSS 2",
      "href": "https://www.w3.org/TR/CSS2/",
      "status": "W3C Recommendation",
      "publisher": "W3C"
    },
    "CSS-Text-3-20160119": {
      "title": "CSS Text Level 3 (20160119)",
      "href": "https://drafts.csswg.org/date/2016-01-19T17:23:23/css-text/",
      "authors": [
        "Elika J. Etemad"
      ] ,
      "etAl": true
    },
    "DAISYAudio": {
      "title": "Navigable audio-only EPUB 3 Guidelines",
      "href": "http://www.daisy.org/guidelines/epub/navigable-audio-only-epub3-guidelines"
    },
    "Dictionaries": {
      "title": "EPUB Dictionaries and Glossaries",
      "href": "http://www.idpf.org/epub/dict"
    },
    "DistributableObjects": {
      "title": "EPUB Distributable Objects 1.0",
      "href": "http://www.idpf.org/epub/do"
    },
    "EPUB-CFI": {
      "title": "EPUB Canonical Fragment Identifier (epubcfi) Specification",
      "href": "http://www.idpf.org/epub/linking/cfi/epub-cfi.html"
    },
    "EPUB32": {
      "title": "EPUB 3.2",
      "href": "epub-spec.html",
      "id": "epub32"
    },
    "EPUB31": {
      "title": "EPUB 3.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-spec.html"
    },
    "EPUB3": {
      "title": "EPUB 3",
      "href": "http://www.idpf.org/epub/latest"
    },
    "EPUB32Changes": {
      "title": "EPUB 3.2 Changes",
      "href": "epub-changes.html",
      "id": "epub32changes"
    },
    "EPUB31Changes": {
      "title": "EPUB 3.1 Changes from 3.0.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-changes.html"
    },
    "EPUB301Changes": {
      "title": "EPUB 3.0.1 Changes from 3.0",
      "href": "http://www.idpf.org/epub/301/spec/epub-changes.html"
    },
    "EPUB3Changes": {
      "title": "EPUB 3 Changes from 2.0.1",
      "href": "http://www.idpf.org/epub/30/spec/epub30-changes.html"
    },
    "EPUB3Overview": {
      "title": "EPUB 3 Overview",
      "href": "epub-overview.html"
    },
    "EPUBAccessibility": {
      "title": "EPUB Accessibility",
      "href": "http://www.idpf.org/epub/latest/accessibility"
    },
    "EPUBAccessibilityTechniques": {
      "title": "EPUB Accessibility Techniques",
      "href": "http://www.idpf.org/epub/latest/accessibility/techniques"
    },
    "H264": {
      "title": "H.264 : Advanced video coding for generic audiovisual services",
      "href": "https://www.itu.int/ITU-T/recommendations/rec.aspx?rec=13189",
      "date": "2017-04-13"
    },
    "HTML": {
      "title": "HTML",
      "href": "https://www.w3.org/TR/html/",
      "status": "W3C Recommendation",
      "publisher": "W3C",
      "id": "html"
    },
    "IDRegistry": {
      "title": "EPUB Identifiers Registry",
      "href": "https://www.idpf.org/epub/registries/identifiers/"
    },
    "Indexes": {
      "title": "EPUB Indexes",
      "href": "http://www.idpf.org/epub/idx"
    },
    "IPA": {
      "title": "IPA Chart",
      "href": "https://www.internationalphoneticassociation.org/content/full-ipa-chart",
      "publisher": "International Phonetic Association",
      "date": "2005"
    },
    "ISO24751-3": {
      "title": " ISO/IEC 24751-3:2008 Information technology -- Individualized adaptability and accessibility in e-learning, education and training -- Part 3: &quot;Access for all&quot; digital resource description",
      "href": "http://www.iso.org/iso/catalogue_detail?csnumber=43604",
      "date": "2008-10-01"
    },
    "ISOSchematron": {
      "title": "ISO/IEC 19757-3: Rule-based validation — Schematron",
      "href": "http://standards.iso.org/ittf/PubliclyAvailableStandards/c040833_ISO_IEC_19757-3_2006(E).zip",
      "date": "2006-06-01"
    },
    "LinkVocab": {
      "title": "EPUB Metadata Link Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/package/link/"
    },
    "ManifestRole": {
      "title": "EPUB Manifest Role",
      "href": "http://www.idpf.org/epub/vocab/package/roles/manifest"
    },
    "ManifestVocab": {
      "title": "EPUB Manifest Properties Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/package/item"
    },
    "MARCRelators": {
      "title": "MARC Code List for Relators",
      "href": "http://www.loc.gov/marc/relators/"
    },
    "MediaOverlays": {
      "title": "EPUB Media Overlays 3.1",
      "href": "http://www.idpf.org/epub3/latest/mediaoverlays"
    },
    "MediaOverlays32": {
      "title": "EPUB Media Overlays 3.2",
      "href": "epub-mediaoverlays.html"
    },
    "MediaOverlays31": {
      "title": "EPUB Media Overlays 3.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-mediaoverlays.html"
    },
    "MediaOverlays301": {
      "title": "EPUB Media Overlays 3.0.1",
      "href": "http://www.idpf.org/epub/301/spec/epub-mediaoverlays.html"
    },
    "MediaOverlays30": {
      "title": "EPUB Media Overlays 3.0",
      "href": "http://www.idpf.org/epub/30/spec/epub30-mediaoverlays.html"
    },
    "MetaVocab": {
      "title": "EPUB Meta Properties Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/package/meta"
    },
    "MultipleRenditions": {
      "title": "EPUB Multiple-Rendition Publications 1.0",
      "href": "http://www.idpf.org/epub/renditions/multiple/epub-multiple-renditions-20150826.html",
      "date": "26 August 2015"
    },
    "NVDL": {
      "title": "ISO/IEC 19757-4: NVDL (Namespace-based Validation Dispatching Language)",
      "href": "http://standards.iso.org/ittf/PubliclyAvailableStandards/c038615_ISO_IEC_19757-4_2006(E).zip",
      "date": "2006-06-01"
    },
    "OCF32": {
      "title": "Open Container Format (OCF) 3.2",
      "href": "epub-ocf.html"
    },
    "OCF31": {
      "title": "Open Container Format (OCF) 3.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-ocf.html"
    },
    "OCF301": {
      "title": "EPUB Open Container Format (OCF) 3.0.1",
      "href": "http://www.idpf.org/epub/301/spec/epub-ocf.html"
    },
    "OCF30": {
      "title": "EPUB Open Container Format (OCF) 3.0",
      "href": "http://www.idpf.org/epub/30/spec/epub30-ocf.html"
    },
    "OCF2": {
      "title": "EPUB Open Container Format (OCF) 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OCF_2.0.1_draft.doc"
    },
    "ODF": {
      "title": "Open Document Format for Office Applications (OpenDocument) v1.0",
      "href": "https://www.oasis-open.org/committees/download.php/12572/OpenDocument-v1.0-os.pdf",
      "date": "1 May 2005",
      "id": "odf"
    },
    "ONIX": {
      "title": "ONIX for Books",
      "href": "http://www.editeur.org/"
    },
    "OPF2": {
      "title": "Open Packaging Format 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm"
    },
    "OPS2": {
      "title": "Open Publication Structure 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OPS_2.0.1_draft.htm"
    },
    "OverlaysVocab": {
      "title": "EPUB 3.1 Media Overlays Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/overlays/#"
    },
    "PackageDocPrefixes": {
      "title": "EPUB Package Document Reserved Prefixes",
      "href": "http://www.idpf.org/epub/vocab/package/pfx"
    },
    "Packages": {
      "title": "EPUB Packages 3",
      "href": "http://www.idpf.org/epub3/latest/packages"
    },
    "Packages32": {
      "title": "EPUB Packages 3.2",
      "href": "epub-packages.html"
    },
    "Packages31": {
      "title": "EPUB Packages 3.1",
      "href": "http://www.idpf.org/epub/31/spec/epub-packages.html"
    },
    "Previews": {
      "title": "EPUB Previews",
      "href": "http://www.idpf.org/epub/previews/"
    },
    "Publications301": {
      "title": "EPUB Publications 3.0.1",
      "href": "http://www.idpf.org/epub/301/spec/epub-publications.html"
    },
    "Publications30": {
      "title": "EPUB Publications 3.0",
      "href": "http://www.idpf.org/epub/30/spec/epub30-publications.html"
    },
    "RegionNav": {
      "title": "EPUB Region-Based Navigation",
      "href": "http://www.idpf.org/epub/renditions/region-nav"
    },
    "RenditionVocab": {
      "title": "EPUB Package Rendering Vocabulary",
      "href": "http://www.idpf.org/vocab/rendition"
    },
    "RFC": {
      "title": "Request for Comments",
      "href": "https://www.ietf.org/standards/rfcs/",
      "id": "rfc"
    },
    "RoleExtensions": {
      "title": "EPUB Collection Element Role Extensions",
      "href": "http://www.idpf.org/epub/extensions/roles"
    },
    "RoleRegistry": {
      "title": "EPUB Collection Roles Registry",
      "href": "http://www.idpf.org/epub/registries/roles"
    },
    "schema.org": {
      "title": "schema.org",
      "href": "https://schema.org"
    },
    "SchemaGuide": {
      "title": "Schema.org Metadata Integration Guide for EPUB 3",
      "href": "http://www.idpf.org/epub/guides/schema-org-integration"
    },
    "ScriptableComponents": {
      "title": "EPUB Scriptable Components 1.0",
      "href": "http://www.idpf.org/epub/sc/api"
    },
    "ScriptableComponents-Packaging": {
      "title": "EPUB Scriptable Components Packaging and Integration 1.0",
      "href": "http://www.idpf.org/epub/sc/pkg"
    },
    "SHA-1": {
      "title": "Federal Information Processing Standards Publication 180-3: Secure Hash Standard (SHS)",
      "href": "http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf",
      "date": "October 2008"
    },
    "SpineVocab": {
      "title": "EPUB Spine Properties Vocabulary",
      "href": "http://www.idpf.org/epub/vocab/package/itemref"
    },
    "SVG": {
      "title": "SVG",
      "href": "https://www.w3.org/TR/SVG/",
      "publisher": "W3C"
    },
    "SWF": {
      "title": "SWF File Format Specification</link> Version 19",
      "href": "http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/swf/pdf/swf-file-format-spec.pdf",
      "date": "2012"
    },
    "TR15": {
      "title": "Unicode Normalization Forms",
      "href": "http://www.unicode.org/reports/tr15/",
      "id": "tr15"
    },
    "TrueType": {
      "title": "Apple TrueType Reference Manual",
      "href": "https://developer.apple.com/fonts/TrueType-Reference-Manual/",
      "publisher": "Apple",
      "date": "2002"
    },
    "TypesRegistry": {
      "title": "EPUB Publication Types Registry",
      "href": "http://www.idpf.org/epub/vocab/package/types"
    },
    "US-ASCII": {
      "title": "&quot;Coded Character Set - 7-bit American Standard Code for Information Interchange&quot;, ANSI X3.4, 1986.",
      "id": "us-ascii"
    },
    "W3CProcess": {
      "title": "World Wide Web Consortium Process Document",
      "href": "https://www.w3.org/2015/Process-20150901/",
      "authors": [
        "Charles McCathie-Nevile"
      ] ,
      "date": "1 September 2015"
    },
    "XPTRSH": {
      "title": "XPointer Shorthand Notation",
      "href": "https://www.w3.org/TR/2003/REC-xptr-framework-20030325/",
      "date": "25 March 2003"
    }
  },
  "preProcess": [
    null,
    null
  ] ,
  "postProcess": [
    null
  ] ,
  "publishISODate": "2019-05-08T00:00:00.000Z",
  "generatedSubtitle": "Final Community Group Specification 08 May 2019"
}</script><meta name="description" content="This specification defines a file format and processing model for encapsulating the set of related
				resources that comprise an EPUB® Publication into a single-file
				container, the EPUB Container."><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/cg-final"></head>
	<body class="h-entry toc-inline"><div class="head">
      <a class="logo" href="https://www.w3.org/"><img alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72" height="48"></a>
      <h1 class="title p-name" id="title">EPUB開放容器格式（Open Container Format, OCF) 3.2</h1>
      
      <h2>
        最終社群小組規格
        <time class="dt-published" datetime="2019-05-08">08 May 2019</time>
      </h2>
      <dl>
        
        
        <dt>最新編輯草稿：</dt><dd><a href="https://w3c.github.io/publ-epub-revision/epub32/spec/epub-ocf.html">https://w3c.github.io/publ-epub-revision/epub32/spec/epub-ocf.html</a></dd>
        
        
        
        
        
        <dt>編輯：</dt>
        <dd class="p-author h-card vcard"><span class="p-name fn">Garth Conboy</span>
            (<a class="p-org org h-org h-card" href="https://www.google.com">Google</a>)
          </dd>
        <dt>
                前任編輯：
              </dt><dd class="p-author h-card vcard"><span class="p-name fn">James Pritchett</span>
            (<a class="p-org org h-org h-card" href="https://www.learningally.org/">Learning Ally</a>)
          </dd><dd class="p-author h-card vcard"><span class="p-name fn">Markus Gylling</span>
            (<a class="p-org org h-org h-card" href="https://www.idpf.org">International Digital Publishing Forum (IDPF)</a>)
          </dd>
        
        <dt>協助參與：</dt><dd>
      <a href="https://github.com/w3c/publ-epub-revision/">GitHub w3c/publ-epub-revision</a>
    </dd><dd>
      <a href="https://github.com/w3c/publ-epub-revision/issues/">提出問題</a>
    </dd><dd>
      <a href="https://github.com/w3c/publ-epub-revision/commits/master">版本紀錄</a>
    </dd><dd>
      <a href="https://github.com/w3c/publ-epub-revision/pulls/">修改要求</a>
    </dd>
      </dl>
      
      <p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1999-2019 International Digital Publishing Forum™ and W3C® (MIT, ERCIM, Keio, Beihang)</p><p class="copyright">EPUB是國際數位出版論壇（IDPF, International Digital Publishing Forum）的註冊商標。</p>
      <hr title="Separator for header">
    </div>
		<section id="abstract" class="introductory"><h2>概要</h2>
			<p>本規格定義了一個檔案格式與處理模型，以包裝一組相關聯的資源組成一本<a data-lt="EPUB Publication" href="epub-spec.html#dfn-epub-publication">EPUB®出版品</a>為單一檔案容器，即為<a href="epub-spec.html#dfn-epub-container">EPUB容器</a>。</p>

			<p>本規格定義了規則供建構抽象（即為「<a href="#sec-container-abstract">抽象容器（abstract container）</a>」）的檔案集合，以及規定此抽象容器於ZIP封存檔（即為「<a href="#sec-container-zip">ZIP容器</a>」）的呈現。供ZIP容器的規則建構於 [<cite><a class="bibref" href="#bib-odf">ODF</a></cite>] 所使用的ZIP技術。OCF也定義了一套標準方式供嵌入資源模糊化，例如字體，以提供需要這些功能的EPUB出版品使用。</p>

			<p>本規格屬於組成 [<cite><a class="bibref" href="#bib-epub32">EPUB32</a></cite>] 的<a href="epub-spec.html#sec-intro-epub-specs">規格群</a>之一，其為基於XML與Web標準的數位出版品交換與遞送格式。要了解整體EPUB 3規格，需要與其他規格一併閱讀且理解。</p>

			<p>可參考 [<cite><a class="bibref" href="#bib-epub32changes">EPUB32Changes</a></cite>] 以了解本規格與其前版本的差異資訊。</p>
		</section>
		<section id="sotd" class="introductory"><h2>本文件狀態</h2><p>
      本規格由<a href="https://www.w3.org/community/epub3/">EPUB 3社群小組</a>所發表。並非W3C標準也不在W3C標準程序上。請注意本規格適用於<a href="https://www.w3.org/community/about/agreements/final/">W3C社群完整規範協議（FSA）</a>。可進一步了解<a href="https://www.w3.org/community/">W3C社群與業界小組</a>。</p><p>如果你想要對本文件提出意見，請寄送到<a href="mailto:public-epub3@w3.org">public-epub3@w3.org</a>（<a href="mailto:public-epub3-request@w3.org?subject=subscribe">訂閱</a>，<a href="https://lists.w3.org/Archives/Public/public-epub3/">存檔</a>）。</p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">目錄</h2><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-introduction"><span class="secno">1. </span>導論</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-terminology"><span class="secno">1.1 </span>術語</a></li><li class="tocline"><a class="tocxref" href="#conformance"><span class="secno">1.2 </span>適用性</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-ocf-conformance"><span class="secno">2. </span>OCF適用性</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#ocf-conformance-container"><span class="secno">2.1 </span>容器適用性</a></li><li class="tocline"><a class="tocxref" href="#ocf-conformance-rs"><span class="secno">2.2 </span>閱讀系統適用性</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-container-abstract"><span class="secno">3. </span>OCF抽象容器</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-container-abstract-intro"><span class="secno">3.1 </span>導論</a></li><li class="tocline"><a class="tocxref" href="#sec-container-file-and-dir-structure"><span class="secno">3.2 </span>檔案與目錄結構</a></li><li class="tocline"><a class="tocxref" href="#sec-container-iri"><span class="secno">3.3 </span>參照其他元件時相對IRI</a></li><li class="tocline"><a class="tocxref" href="#sec-container-filenames"><span class="secno">3.4 </span>檔案名稱</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf"><span class="secno">3.5 </span><code>META-INF</code>資料夾</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-container-metainf-inc"><span class="secno">3.5.1 </span>內含物</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-files"><span class="secno">3.5.2 </span>保留的檔案</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-container-metainf-container.xml"><span class="secno">3.5.2.1 </span>容器檔案 (<code>container.xml</code>)</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-encryption.xml"><span class="secno">3.5.2.2 </span>加密檔案 (<code>encryption.xml</code>)</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-enc-compression"><span class="secno">3.5.2.2.1 </span>壓縮與加密順序</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-manifest.xml"><span class="secno">3.5.2.3 </span>宣告檔案 (<code>manifest.xml</code>)</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-metadata.xml"><span class="secno">3.5.2.4 </span>詮釋資料檔案 (<code>metadata.xml</code>)</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-rights.xml"><span class="secno">3.5.2.5 </span>權利管理檔案 (<code>rights.xml</code>)</a></li><li class="tocline"><a class="tocxref" href="#sec-container-metainf-signatures.xml"><span class="secno">3.5.2.6 </span>數位簽章檔案 (<code>signatures.xml</code>)</a></li></ol></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-container-zip"><span class="secno">4. </span>OCF ZIP容器</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#sec-container-zip-intro"><span class="secno">4.1 </span>導論</a></li><li class="tocline"><a class="tocxref" href="#sec-zip-container-zipreqs"><span class="secno">4.2 </span>ZIP檔案需求</a></li><li class="tocline"><a class="tocxref" href="#sec-zip-container-mime"><span class="secno">4.3 </span>OCF ZIP容器媒體類型識別</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-resource-obfuscation"><span class="secno">5. </span>資源模糊化</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#fobfus-intro"><span class="secno">5.1 </span>導論</a></li><li class="tocline"><a class="tocxref" href="#obfus-keygen"><span class="secno">5.2 </span>模糊化密鑰</a></li><li class="tocline"><a class="tocxref" href="#obfus-algorithm"><span class="secno">5.3 </span>模糊化演算法</a></li><li class="tocline"><a class="tocxref" href="#obfus-specifying"><span class="secno">5.4 </span>指定模糊化資源</a></li></ol></li><li class="tocline"><a class="tocxref" href="#app-schemas"><span class="secno">A. </span>綱要（Schemas）</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#app-schema-container"><span class="secno">A.1 </span>供<code>container.xml</code>使用的綱要</a></li><li class="tocline"><a class="tocxref" href="#app-schema-encryption"><span class="secno">A.2 </span>供<code>encryption.xml</code>使用的綱要</a></li><li class="tocline"><a class="tocxref" href="#app-schema-signatures"><span class="secno">A.3 </span>供<code>signatures.xml</code>使用的綱要</a></li></ol></li><li class="tocline"><a class="tocxref" href="#example"><span class="secno">B. </span>範例</a></li><li class="tocline"><a class="tocxref" href="#app-media-type"><span class="secno">C. </span>The <code>application/epub+zip</code>媒體類型</a></li><li class="tocline"><a class="tocxref" href="#app-contributors"><span class="secno">D. </span>謝詞與貢獻者</a></li><li class="tocline"><a class="tocxref" href="#references"><span class="secno">E. </span>參考資料</a><ol class="toc">
<li class="tocline"><a class="tocxref" href="#normative-references"><span class="secno">E.1 </span>規範性文件</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><span class="secno">E.2 </span>參考性文件</a></li></ol></li></ol></nav>
		<section id="sec-introduction">
			<!--OddPage--><h2 id="x1-introduction"><span class="secno">1. </span>導論<a class="self-link" aria-label="§" href="#sec-introduction"></a></h2>

			<section id="sec-terminology">
				<h3 id="x1-1-terminology"><span class="secno">1.1 </span>術語<a class="self-link" aria-label="§" href="#sec-terminology"></a></h3>

				<p>專屬於EPUB 3的術語在本文件中以括號（譯注：英文版為首字大寫。範例如「作者」，「閱讀系統」）。<a href="epub-spec.html#sec-terminology">術語與定義</a>的完整清單提供於 [<cite><a class="bibref" href="#bib-epub32">EPUB32</a></cite>] 。</p>

				<p>每章節術語第一次出現時才會連結至其定義。</p>

				<p>此外，以下術語專為本規格所定義使用：</p>

				<dl class="termlist">
					<dt><dfn id="dfn-codec" data-lt="codecs|codec" data-dfn-type="dfn">編碼（Codec）</dfn></dt>
					<dd>
						<p>編碼用於具備固有二進位格式特性的內容，例如影片或者聲音媒體類型等已經預先為壓縮做了最佳化設計，或者能提供最佳化的串流相容性。</p>
					</dd>
					<dt><dfn id="dfn-default-rendition" data-lt="default renditions|default rendition" data-dfn-type="dfn">預設內容釋義（Default Rendition）</dfn></dt>
					<dd>
						<p>列於<a href="#sec-container-metainf-container.xml">container.xml</a>檔案中的第一個<code>rootfile</code>元素中的<a href="epub-spec.html#dfn-rendition">內容釋義</a>。</p>
					</dd>
					<dt><dfn id="dfn-file-name" data-lt="file names|file name" data-dfn-type="dfn">檔案名稱（File Name）</dfn></dt>
					<dd>
						<p>在<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>中任何種類檔案的名稱，不管是檔案夾或者在檔案夾中的檔案。</p>
					</dd>
					<dt><dfn id="dfn-non-codec" data-lt="non-codecs|non-codec" data-dfn-type="dfn">非編碼（Non-Codec）</dfn></dt>
					<dd>
						<p>非編碼用於其內在檔案結構性質能夠得益於壓縮的內容類型，例如基於文字字串的檔案格式（例如，HTML、CSS等）。</p>
					</dd>
					<dt><dfn id="dfn-ocf-abstract-container" data-lt="ocf abstract containers|ocf abstract container" data-dfn-type="dfn">OCF抽象容器（OCF Abstract Container）</dfn></dt>
					<dd>
						<p>OCF抽象容器定義了一個檔案系統模型供<a href="#dfn-zip-container">OCF ZIP容器</a>的內容，如<a href="#sec-container-abstract"><em>OCF抽象容器</em></a>所定義。</p>
					</dd>
					<dt><dfn id="dfn-ocf-processor" data-lt="ocf processors|ocf processor" data-dfn-type="dfn">OCF處理器（OCF Processor）</dfn></dt>
					<dd>
						<p>一個軟體應用程式用於處理<a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>，需符合本規格中的需求。</p>
					</dd>
					<dt><dfn id="dfn-zip-container" data-lt="ocf zip containers|ocf zip container" data-dfn-type="dfn">OCF ZIP容器（OCF ZIP Container）</dfn></dt>
					<dd>
						<p>基於ZIP技術的EPUB出版品包裝與遞送格式，定義於<a href="#sec-container-zip"><em>OCF ZIP容器</em></a>。</p>
						<p>OCF ZIP容器與<a href="epub-spec.html#dfn-epub-container">EPUB容器</a>為同義詞。</p>
					</dd>
					<dt><dfn id="dfn-path-name" data-lt="path names|path name" data-dfn-type="dfn">路徑名稱（Path Name）</dfn></dt>
					<dd>
						<p>在<a href="#sec-container-abstract">OCF抽象容器</a>中所給予的檔案夾，該字串包含以完整路徑顯示的所有檔案夾構成<a href="#dfn-file-name" class="internalDFN" data-link-type="dfn">檔案名稱</a>，以一個<code>/</code>（<code>U+002F</code>）字元結合起來，並以<code>/</code>分隔檔案夾與檔案名稱。</p>
					</dd>
					<dt><dfn id="dfn-root-directory" data-lt="root directories|root directory" data-dfn-type="dfn">根目錄（Root Directory）</dfn></dt>
					<dd>
						<p>根目錄表示<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>檔案系統的基底。其檔案夾性質為虛擬：當內容尚未解壓縮時，一個<a href="epub-spec.html#dfn-epub-reading-system">EPUB閱讀系統</a>可或不可產生一個供OCF抽象容器內容的實體根目錄。</p>
					</dd>
				</dl>
			</section>

			<section id="conformance"><h3 id="x1-2-conformance"><span class="secno">1.2 </span>適用性<a class="self-link" aria-label="§" href="#conformance"></a></h3><p>除了標註為非規範性的章節，本規格中所有製作指針、圖表、範例與注意事項都為非規範性。其餘本規格中的內容皆為規範性。</p>
			
			<p>關鍵字：<em class="rfc2119">可以（MAY）</em>、<em class="rfc2119">必需（MUST）</em>、<em class="rfc2119">不得（MUST NOT）</em>、<em class="rfc2119">選擇性（OPTIONAL）</em>、<em class="rfc2119">必要（REQUIRED）</em>、<em class="rfc2119">應該（SHOULD）</em>、<em class="rfc2119">不應（SHOULD NOT）</em>應該以 [<cite><a class="bibref" href="#bib-rfc2119">RFC2119</a></cite>] 之記述解釋。</p></section>

		</section>
		<section id="sec-ocf-conformance">
			<!--OddPage--><h2 id="x2-ocf-conformance"><span class="secno">2. </span>OCF適用性<a class="self-link" aria-label="§" href="#sec-ocf-conformance"></a></h2>

			<section id="ocf-conformance-container">
				<h3 id="x2-1-container-conformance"><span class="secno">2.1 </span>容器適用性<a class="self-link" aria-label="§" href="#ocf-conformance-container"></a></h3>

				<ul class="conformance-list">
					<li>
						<p id="confreq-ocf-content-abstr"><span class="link-marker"><a href="#confreq-ocf-content-abstr" class="hidden-reveal"><span>&nbsp;</span></a> </span><a href="#sec-container-abstract"><em>OCF抽象容器</em></a><em class="rfc2119" title="MUST">必需</em>符合定義於OCF抽象容器中的適用性限制。</p>
					</li>
					<li>
						<p id="confreq-ocf-content-zip"><span class="link-marker"><a href="#confreq-ocf-content-zip" class="hidden-reveal"><span>&nbsp;</span></a> </span><a href="#sec-container-zip"><em>OCF ZIP容器</em></a><em class="rfc2119" title="MUST">必需</em>符合定義在OCF ZIP容器中的適用性限制。</p>
					</li>
				</ul>

			</section>

			<section id="ocf-conformance-rs">
				<h3 id="x2-2-reading-system-conformance"><span class="secno">2.2 </span>閱讀系統適用性<a class="self-link" aria-label="§" href="#ocf-conformance-rs"></a></h3>

				<p><a href="epub-spec.html#dfn-epub-reading-system">EPUB閱讀系統</a><em class="rfc2119" title="MUST">必需</em>符合以下領域需求：</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-ocf-rs-zip"><span class="link-marker"><a href="#confreq-ocf-rs-zip" class="hidden-reveal"><span>&nbsp;</span></a> </span>其<em class="rfc2119" title="MUST">必需</em>符合<a href="#sec-container-zip"><em>OCF ZIP容器</em></a>中所有對閱讀系統的適用性限制來處理OCF ZIP容器。</p>
					</li>
					<li>
						<p id="confreq-ocf-fobfus"><span class="link-marker"><a href="#confreq-ocf-fobfus" class="hidden-reveal"><span>&nbsp;</span></a> </span>如果有顯示範圍（Viewport）時，其<em class="rfc2119" title="MUST">必需</em>按照<a href="#sec-resource-obfuscation"><em>資源模糊化</em></a>之定義來支援資源的去模糊化。</p>
					</li>
				</ul>

			</section>

		</section>
		<section id="sec-container-abstract">
			<!--OddPage--><h2 id="x3-ocf-abstract-container"><span class="secno">3. </span>OCF抽象容器<a class="self-link" aria-label="§" href="#sec-container-abstract"></a></h2>

			<section id="sec-container-abstract-intro" class="informative">
				<h3 id="x3-1-introduction"><span class="secno">3.1 </span>導論<a class="self-link" aria-label="§" href="#sec-container-abstract-intro"></a></h3><p><em>本章節為非規範性。</em></p>

				<p><a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>檔案系統模型，使用單一通用<a href="#dfn-root-directory" class="internalDFN" data-link-type="dfn">根目錄</a>來置放所有內容。所有供<a href="epub-spec.html#dfn-epub-publication">EPUB出版品</a>使用的<a href="epub-spec.html#dfn-local-resource">本地資源</a>都放在由根目錄所開始的目錄樹中，本規格中不對資源做檔案系統結構的指定。</p>

				<p>此檔案系統模型也包含一個必要的資料夾<code>META-INF</code>，為根目錄下直接子目錄，用於置放以下特殊檔案：</p>

				<dl class="variablelist">
					<dt><code>container.xml</code>
						<code> [必要] </code></dt>
					<dd>
						<p>識別定義該EPUB出版品中每個<a href="epub-spec.html#dfn-rendition">內容釋義</a>的<a href="epub-spec.html#dfn-package-document">包裝文件</a>位置。</p>
					</dd>
					<dt><code>signatures.xml</code>
						<code> [選擇性] </code>
					</dt>
					<dd>
						<p>包含各種用途的數位簽章。</p>
					</dd>
					<dt><code>encryption.xml</code>
						<code> [選擇性] </code></dt>
					<dd>
						<p>包含關於<a href="epub-spec.html#dfn-publication-resource">出版品資源</a>加密的資訊。當使用<a href="#sec-resource-obfuscation">模糊化</a>時本檔案為必要。</p>
					</dd>
					<dt><code>metadata.xml</code>
						<code> [選擇性] </code></dt>
					<dd>
						<p>用於儲存<a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>的詮釋資料。</p>
					</dd>
					<dt><code>rights.xml</code>
						<code> [選擇性] </code></dt>
					<dd>
						<p>用於儲存關於數位權利的資訊。</p>
					</dd>
					<dt><code>manifest.xml</code>
						<code> [選擇性] </code></dt>
					<dd>
						<p>一份容器內容的宣告，開放文件格式 [<cite><a class="bibref" href="#bib-odf">ODF</a></cite>] 允許使用。</p>
					</dd>
				</dl>

				<p>在<code>META-INF</code>資料夾中各檔案的適用性需求定義於<a href="#sec-container-metainf"><code>META-INF</code>資料夾</a>。</p>

			</section>

			<section id="sec-container-file-and-dir-structure">
				<h3 id="x3-2-file-and-directory-structure"><span class="secno">3.2 </span>檔案與目錄結構<a class="self-link" aria-label="§" href="#sec-container-file-and-dir-structure"></a></h3>

				<p>供<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>使用的虛擬檔案系統<em class="rfc2119" title="MUST">必需</em>有單一通用的<a href="#dfn-root-directory" class="internalDFN" data-link-type="dfn">根目錄</a>置放容器中的所有內容。</p>

				<p>OCF抽象容器<em class="rfc2119" title="MUST">必需</em>包含一個名為<code>META-INF</code>的目錄，作為容器根目錄的直接子目錄。對該資料夾中內容的需求在<a href="#sec-container-metainf"><code>META-INF</code>資料夾</a>中說明。</p>

				<p>根目錄中 <code>mimetype</code>檔案名稱保存供<a href="#dfn-zip-container">OCF ZIP容器</a>使用，於<a href="#sec-container-zip"><em>OCF ZIP容器</em></a>中說明。</p>

				<p>所有其他在OCF抽象容器中的檔案<em class="rfc2119" title="MAY">可以</em>放置於根目錄以下的所有階層位置，但不能置放在<code>META-INF</code>資料夾中。</p>

			</section>

			<section id="sec-container-iri">
				<h3 id="x3-3-relative-iris-for-referencing-other-components"><span class="secno">3.3 </span>參照其他元件時相對IRI<a class="self-link" aria-label="§" href="#sec-container-iri"></a></h3>

				<p>在<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>中的檔案<em class="rfc2119" title="MUST">必需</em>透過相對IRI位置相互參照 ( [<cite><a class="bibref" href="#bib-rfc3987">RFC3987</a></cite>和 [<cite><a class="bibref" href="#bib-rfc3986">RFC3986</a></cite>] )。</p>

				<aside class="example" id="example-1"><div class="marker">
      <a class="self-link" href="#example-1">範例1</a>
    </div>
					<p>以下範例呈現一個名為<code>image1.jpg</code>的檔案，與<a href="epub-spec.html#dfn-xhtml-content-document">XHTML內容文件</a>放在同一資料夾，如何透過一個 [<cite><a class="bibref" href="#bib-html">HTML</a></cite>] <code>img</code>>元素參照。</p>
					<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image1.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span> /&gt;</span></code></pre>
				</aside>

				<p>對相對IRI位置，其基本IRI [<cite><a class="bibref" href="#bib-rfc3986">RFC3986</a></cite>] 由其給予的檔案格式之相關的語言規格所定義。例如，CSS的相對IRI位置如何運作，定義於CSS樣式表以及特性宣告 [<cite><a class="bibref" href="#bib-csssnapshot">CSSSnapshot</a></cite>] 之脈絡。</p>

				<div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注意事項</span></div><div class="">
					<p>有些語言規格參考早於 [<cite><a class="bibref" href="#bib-rfc3987">RFC3987</a></cite>] 的IETF意見需求 [<cite><a class="bibref" href="#bib-rfc">RFC</a></cite>] （Requests For comments），在這些案例中，特殊語言套用較早的意見需求於內容上。</p>
				</div></div>

				<p>不像大多數的語言規格，所有在<code>META-INF</code>資料夾中的檔案使用OCF抽象容器的<a href="#dfn-root-directory" class="internalDFN" data-link-type="dfn">根目錄</a>作為預設的基本IRI。</p>

				<p>舉個例子，如果<code>META-INF/container.xml</code>有以下內容：</p>

				<div class="example" id="example-2">
          <div class="marker">
      <a class="self-link" href="#example-2">範例2</a>
    </div> <pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rootfiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rootfile</span> <span class="hljs-attr">full-path</span>=<span class="hljs-string">"EPUB/Great_Expectations.opf"</span>
            <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/oebps-package+xml"</span> /&gt;</span>	
    <span class="hljs-tag">&lt;/<span class="hljs-name">rootfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
        </div>

				<p>接著<code>EPUB/Great_Expectations.opf</code>的路徑相對於該OCF抽象容器的根目錄，不相對於<code>META-INF</code>目錄。</p>

				<p>所有相對IRI位置<em class="rfc2119" title="MUST">必需</em>解析到位於OCF抽象容器中的資源（例如，位於或者低於根目錄）。</p>

			</section>

			<section id="sec-container-filenames">
				<h3 id="x3-4-file-names"><span class="secno">3.4 </span>檔案名稱<a class="self-link" aria-label="§" href="#sec-container-filenames"></a></h3>

				<p>本章節所說明的<a href="#dfn-file-name" class="internalDFN" data-link-type="dfn">檔案名稱</a>限制，設計用於使<a href="#dfn-path-name" class="internalDFN" data-link-type="dfn">路徑名稱</a>與檔案名稱在多數常用的作業系統上無需調整即可使用。本規格不指示<a href="#dfn-ocf-processor" class="internalDFN" data-link-type="dfn">OCF處理器</a>在無法表現OCF檔案與路徑名時，如何添補其相容性問題的作法。</p>

				<p>在一個<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>的脈絡下，<span id="ocf-fn-cs">檔案與路徑名稱</span>在乎大小寫區分，並且<em class="rfc2119" title="MUST">必需</em>符合以下領域需求：</p>

				<ul class="conformance-list">
					<li>
						<p id="ocf-fn-encoding"><span class="link-marker"><a href="#ocf-fn-encoding" class="hidden-reveal"><span>&nbsp;</span></a> </span>檔案名稱<em class="rfc2119" title="MUST">必需</em>為UTF-8 [<cite><a class="bibref" href="#bib-unicode">Unicode</a></cite>] 編碼。</p>
					</li>
					<li>
						<p id="ocf-fn-length"><span class="link-marker"><a href="#ocf-fn-length" class="hidden-reveal"><span>&nbsp;</span></a> </span>檔案名稱<em class="rfc2119" title="MUST NOT">不得</em>超過255位元組（bytes）。</p>
					</li>
					<li>
						<p id="ocf-pn-length"><span class="link-marker"><a href="#ocf-pn-length" class="hidden-reveal"><span>&nbsp;</span></a> </span>任何在OCF抽象容器中的資料夾與檔名，其路徑名稱<em class="rfc2119" title="MUST NOT">不得</em>超過65535位元組。</p>
					</li>
					<li>
						<p id="ocf-fn-chars"><span class="link-marker"><a href="#ocf-fn-chars" class="hidden-reveal"><span>&nbsp;</span></a> </span>檔案名稱<em class="rfc2119" title="MUST NOT">不得</em>使用以下 [<cite><a class="bibref" href="#bib-unicode">Unicode</a></cite>] 字元，因為這些字元可能在常用作業系統間支援程度不一：</p>
						<ul>
							<li>
								<p>SOLIDUS: <code>/</code> (<code>U+002F</code>)</p>
							</li>
							<li>
								<p>QUOTATION MARK: <code>"</code> (<code>U+0022</code>)</p>
							</li>
							<li>
								<p>ASTERISK: <code>*</code> (<code>U+002A</code>)</p>
							</li>
							<li>
								<p>FULL STOP as the last character: <code>.</code> (<code>U+002E</code>)</p>
							</li>
							<li>
								<p>COLON: <code>:</code> (<code>U+003A</code>)</p>
							</li>
							<li>
								<p>LESS-THAN SIGN: <code>&lt;</code> (<code>U+003C</code>)</p>
							</li>
							<li>
								<p>GREATER-THAN SIGN: <code>&gt;</code> (<code>U+003E</code>)</p>
							</li>
							<li>
								<p>QUESTION MARK: <code>?</code> (<code>U+003F</code>)</p>
							</li>
							<li>
								<p>REVERSE SOLIDUS: <code>\</code> (<code>U+005C</code>)</p>
							</li>
							<li>
								<p>VERTICAL LINE: <code>\</code> (<code>U+007C</code>)</p>
							</li>
							<li>
								<p>DEL (<code>U+007F</code>)</p>
							</li>
							<li>
								<p>C0 range (<code>U+0000 … U+001F</code>)</p>
							</li>
							<li>
								<p>C1 range (<code>U+0080 … U+009F</code>)</p>
							</li>
							<li>
								<p>Private Use Area (<code>U+E000 … U+F8FF</code>)</p>
							</li>
							<li>
								<p>Non characters in Arabic Presentation Forms-A (<code>U+FDDO … U+FDEF</code>)</p>
							</li>
							<li>
								<p>Specials (<code>U+FFF0 … U+FFFF</code>)</p>
							</li>
							<li>
								<p>Tags and Variation Selectors Supplement (<code>U+E0000 … U+E0FFF</code>)</p>
							</li>
							<li>
								<p>Supplementary Private Use Area-A (<code>U+F0000 … U+FFFFF</code>)</p>
							</li>
							<li>
								<p>Supplementary Private Use Area-B (<code>U+100000 … U+10FFFF</code>)</p>
							</li>
						</ul>
					</li>
					<li>
						<p id="ocf-fn-cn"><span class="link-marker"><a href="#ocf-fn-cn" class="hidden-reveal"><span>&nbsp;</span></a> </span>所有在同一個資料夾中的檔案名稱<em class="rfc2119" title="MUST">必需</em>在大小寫正規化後皆為獨特，如3.13章節中 [<cite><a class="bibref" href="#bib-unicode">Unicode</a></cite>] 所解釋。</p>
					</li>
					<li>
						<p id="ocf-fn-an"><span class="link-marker"><a href="#ocf-fn-an" class="hidden-reveal"><span>&nbsp;</span></a> </span>所有在同一個資料夾中的檔案名稱<strong>應該</strong>在NFC或NFD正規化 [<cite><a class="bibref" href="#bib-tr15">TR15</a></cite>] 後為獨特。</p>
					</li>
				</ul>

				<div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>注意事項</span></div><div class="">
					<p>有些商用ZIP工具不支援完整Unicode範圍，且可能僅支援 [<cite><a class="bibref" href="#bib-us-ascii">US-ASCII</a></cite>] 範圍的檔案名稱。<a href="epub-spec.html#dfn-author">作者</a>若想使用有這些限制的ZIP工具的話，最好盡可能將檔案名稱限制在 [<cite><a class="bibref" href="#bib-us-ascii">US-ASCII</a></cite>] 範圍。如果檔案的名稱在解壓縮過程時無法保留，在檔案透過URI被內容所參照時，可能有需要補齊名稱解譯。</p>
				</div></div>

			</section>

			<section id="sec-container-metainf">
				<h3 id="x3-5-meta-inf-directory"><span class="secno">3.5 </span><code>META-INF</code>資料夾<a class="self-link" aria-label="§" href="#sec-container-metainf"></a></h3>

				<section id="sec-container-metainf-inc">
					<h4 id="x3-5-1-inclusion"><span class="secno">3.5.1 </span>內含物<a class="self-link" aria-label="§" href="#sec-container-metainf-inc"></a></h4>

					<p>所有<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a><em class="rfc2119" title="MUST">必需</em>在其<a href="#dfn-root-directory" class="internalDFN" data-link-type="dfn">根目錄</a>中包含一個名為<code>META-INF</code>的資料夾。</p>

					<p>此資料夾中的檔案為<a href="#sec-container-metainf-files">META-INF保留的檔案</a>。其他未列於本章節的檔案<em class="rfc2119" title="MAY">可以</em>被放在<code class="filename">META-INF</code>資料夾中；而<a href="#dfn-ocf-processor" class="internalDFN" data-link-type="dfn">OCF處理器</a>當遇到這些檔案時<em class="rfc2119" title="MUST NOT">不得</em>視為錯誤。</p>

				</section>

				<section id="sec-container-metainf-files">
					<h4 id="x3-5-2-reserved-files"><span class="secno">3.5.2 </span>保留的檔案<a class="self-link" aria-label="§" href="#sec-container-metainf-files"></a></h4>

					<section id="sec-container-metainf-container.xml">
						<h5 id="x3-5-2-1-container-file-container-xml"><span class="secno">3.5.2.1 </span>容器檔案 (<code>container.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-container.xml"></a></h5>

						<p>置放於<code>META-INF</code>資料夾中的<code>container.xml</code>為<em class="rfc2119" title="REQUIRED">必要</em>，其用於指定在<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>中的<a href="epub-spec.html#dfn-epub-package">EPUB包裝</a>。</p>

						<p>該檔案的內容<em class="rfc2119" title="MUST">必需</em>在移除所有來自其他命名空間的元素以及屬性（包含所有屬性以及有這些元素的內容）後，合乎定義在「<a href="#app-schema-container">供<code>container.xml</code>使用的綱要</a>」裡提供的綱要。</p>

						<p id="elemdef-container-rootfile">每一個<code>rootfile</code>元素<em class="rfc2119" title="MUST">必需</em>指定一份<a href="epub-spec.html#dfn-package-document">包裝文件</a>的位置，以代表EPUB出版品的一份內容釋義。每一份<a href="epub-spec.html#dfn-rendition">內容釋義</a><em class="rfc2119" title="MUST">必需</em>與其容器的EPUB版本相容。</p>

						<p id="container-default-rendition">一個OCF處理器<em class="rfc2119" title="MUST">必需</em>將在<code>rootfile</code>元素中第一個<code>rootfile</code>元素視為所容納的EPUB出版品中的<a href="#dfn-default-rendition">預設內容釋義</a>。<a href="epub-spec.html#dfn-epub-reading-system">閱讀系統</a><em class="rfc2119" title="REQUIRED">需要</em>呈現預設內容釋義，但<em class="rfc2119" title="MAY">可以</em>顯示容器中的其他內容釋義。</p>

						<div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="6"><span>注意事項</span></div><p class="">儘管EPUB容器具備能包含一個以上內容釋義之內容的能力，閱讀系統對於多重內容釋義的支援依然未受到廣泛支援，僅有相關團體為了其目的與手段提供特定的環境支援。</p></div>

						<aside class="example" id="example-3"><div class="marker">
      <a class="self-link" href="#example-3">範例3</a>
    </div>
							<p>以下範例呈現一個EPUB出版品的<code>container.xml</code>範例，其根檔案為<code>EPUB/My Crazy Life.opf</code>（包裝文件）：</p>
							<pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rootfiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rootfile</span> <span class="hljs-attr">full-path</span>=<span class="hljs-string">"EPUB/My_Crazy_Life.opf"</span>
            <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/oebps-package+xml"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rootfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
						</aside>

						<aside class="example" id="example-4"><div class="marker">
      <a class="self-link" href="#example-4">範例4</a>
    </div>
							<p>以下範例呈現SVG與XHTML內容釋義包裝於相同的容器中：</p>
							<pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rootfiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rootfile</span> <span class="hljs-attr">full-path</span>=<span class="hljs-string">"SVG/Sandman.opf"</span>
            <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/oebps-package+xml"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rootfile</span> <span class="hljs-attr">full-path</span>=<span class="hljs-string">"XHTML/Sandman.opf"</span>
            <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/oebps-package+xml"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rootfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
						</aside>

						<p><em class="rfc2119" title="OPTIONAL">選擇性</em>的<code id="elemdef-container-links">links</code>元素用來指定處理<a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>時所需要的資源。其每一個<code id="elemdef-container-link">link</code>元素<em class="rfc2119" title="MUST">必需</em>包含一個<code>href</code>屬性，其值指定了一個資源的位址。每一個<code>link</code>元素都<em class="rfc2119" title="MUST">必需</em>包含一個<code>rel</code>屬性，其值指定與資源的關係，以及<em class="rfc2119" title="MAY">可以</em>包含一個<code>media-type</code>屬性，其值<em class="rfc2119" title="MUST">必需</em>為一個媒體類型 [<cite><a class="bibref" href="#bib-rfc2046">RFC2046</a></cite>] ，其指定了該<code>link</code>參照的資源的類型與格式。</p>

						<div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="6"><span>注意事項</span></div><p class=""><code>links</code>元素用於<a href="http://www.idpf.org/epub/renditions/multiple/#sec-4.4.4">多重內容釋義</a>EPUB時，用以指向內容釋義所映射的文件。</p></div>

						<p><code>rootfile</code>元素中<code>full-path</code>屬性的值與<code>link</code>元素的<code>href</code>屬性<em class="rfc2119" title="MUST">必需</em>包含一個<em class="firstterm" id="def-path-component">路徑部件（path component）</em> [<cite><a class="bibref" href="#bib-rfc3986">RFC3986</a></cite>] 其<em class="rfc2119" title="MUST">必需</em>僅使用<em class="firstterm" id="def-path-rootless">path-rootless</em> [<cite><a class="bibref" href="#bib-rfc3986">RFC3986</a></cite>] 形式。其路徑部件與<a href="#dfn-root-directory" class="internalDFN" data-link-type="dfn">根目錄</a>為相對。</p>

						<p><a href="#dfn-ocf-processor" class="internalDFN" data-link-type="dfn">OCF處理器</a><em class="rfc2119" title="MUST">必需</em>忽略<code>container.xml</code>檔案中的外圍元素與屬性。</p>

					</section>

					<section id="sec-container-metainf-encryption.xml">
						<h5 id="x3-5-2-2-encryption-file-encryption-xml"><span class="secno">3.5.2.2 </span>加密檔案 (<code>encryption.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-encryption.xml"></a></h5>

						<p>在<code>META-INF</code>資料夾中選擇性的<code>encryption.xml</code>包含所有該容器內容的加密資訊。如果任何容器中的資源有受到加密，<code>encryption.xml</code><em class="rfc2119" title="MUST">必需</em>用於指出哪一份資源受到加密，以及提供如何解密的資訊。</p>

						<p>本檔案是一個XML文件，其根元素為<code id="elemdef-encryption-encryption">encryption</code>。<code>encryption</code>元素包含類型子元素<code>EncryptedKey</code>及<code>EncryptedData</code>由 [<cite><a class="bibref" href="#bib-xmlenc-core1">XMLENC-CORE1</a></cite>] 所定義。<code id="elemdef-encryption-EncryptedKey">EncryptedKey</code>元素解釋了用於容器的每一個加密密鑰，而<code id="elemdef-encryption-EncryptedData">EncryptedData</code>元素解釋了每一個加密檔案。每一個<code>EncryptedData</code>元素參照一個<code>EncryptedKey</code>，如在XML加密中所說明。</p>

						<p><code>encryption.xml</code>檔案之內容<em class="rfc2119" title="MUST">必需</em>合乎定義在「<a href="#app-schema-encryption">供<code>encryption.xml</code>使用的綱要</a>」裡提供的綱要。</p>

						<p>OCF獨立地加密個別檔案，以一些安全性交換效能的提升，允許容器內容能夠被遞增解密。但以這種方式加密會暴露目錄結構與整個包裝的檔案命名。</p>

						<p>OCF採用XML加密 [<cite><a class="bibref" href="#bib-xmlenc-core1">XMLENC-CORE1</a></cite>] 來提供一個加密用的框架，允許使用多種演算法。XML加密指定一個程序供加密任意資料並且以XML表示其結果。儘管<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>中可能包含非XML資料，但XML加密可用於加密OCF抽象容器中的所有資料。OCF加密僅支援對在容器中的整個檔案加密，而非檔案的一部分。若<code>encryption.xml</code>檔案存在，則其自身<em class="rfc2119" title="MUST NOT">不得</em>被加密。</p>

						<p>在OCF抽象容器中，以加密資料置換未加密的資料。例如，如果一個名為<code>photo.jpeg</code>的影像為加密，<code>photo.jpeg</code>資源的內容<em class="rfc2119" title="SHOULD">應該</em>被置換成其加密後的內容。在ZIP資料夾中，<em class="rfc2119" title="SHOULD">應該</em>儲存加密後的檔案而非Deflate壓縮檔。</p>

						<p id="encryption-obfuscation">請注意在一些狀況下，需要模糊儲存被<a href="epub-spec.html#dfn-rendition">內容釋義</a>參照的嵌入資源，以連接到「母」EPUB出版品並且使它們更難以在非限制的使用下解壓縮（例如，字體）。儘管模糊化並非加密，<code>encryption.xml</code>檔案用於對應<a href="#sec-resource-obfuscation">資源模糊化演算法</a>以識別哪些資源需要在使用前去模糊化。</p>

						<p id="encryption-restrictions">以下檔案<em class="rfc2119" title="MUST NOT">不得</em>被加密，無論是使用預設或者特別的加密法：</p>

						<ul class="nomark">
							<li><code>mimetype</code></li>
							<li><code>META-INF/container.xml</code></li>
							<li><code>META-INF/encryption.xml</code></li>
							<li><code>META-INF/manifest.xml</code></li>
							<li><code>META-INF/metadata.xml</code></li>
							<li><code>META-INF/rights.xml</code></li>
							<li><code>META-INF/signatures.xml</code></li>
							<li><a href="epub-spec.html#dfn-package-document"><code>包裝文件</code></a></li>
						</ul>

						<p>簽署的資源<em class="rfc2119" title="MAY">可以</em>之後使用供XML簽章 [<cite><a class="bibref" href="#bib-xmlenc-decrypt">XMLENC-DECRYPT</a></cite>] 的解密變形法（Decryption Transform）加密。這項功能使應用程式，例如一個OCF客戶端在從檔案簽署前來辨別資料是否加密。只有在簽署後為加密的檔案<em class="rfc2119" title="MUST">必需</em>要在計算其摘要用於查核簽名前解壓縮。</p>

						<aside class="example" id="example-5"><div class="marker">
      <a class="self-link" href="#example-5">範例5</a>
    </div>
							<p>以下範例採用<a href="https://www.w3.org/TR/2002/REC-xmlenc-core-20021210/#sec-eg-Symmetric-Key">2.2.1節</a>中之 [<cite><a class="bibref" href="#bib-xmlenc-core1">XMLENC-CORE1</a></cite>] ，資源<code>image.jpeg</code>使用對稱密鑰加密（AES）加密，其對稱密鑰更進一步使用非對稱密鑰加密（RSA）加密，其密鑰由John Smith持有。</p>
							<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">encryption</span>
    <span class="hljs-attr">xmlns</span> =<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>
    <span class="hljs-attr">xmlns:enc</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#"</span>
    <span class="hljs-attr">xmlns:ds</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedKey</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"EK"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#rsa-1_5"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyName</span>&gt;</span>John Smith<span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyName</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherValue</span>&gt;</span>xyzabc<span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherValue</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedKey</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedData</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"ED1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#kw-aes128"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ds:RetrievalMethod</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"#EK"</span>
                <span class="hljs-attr">Type</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#EncryptedKey"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherReference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"image.jpeg"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedData</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">encryption</span>&gt;</span></code></pre>
						</aside>

						<section id="sec-enc-compression">
							<h6 id="x3-5-2-2-1-order-of-compression-and-encryption"><span class="secno">3.5.2.2.1 </span>壓縮與加密順序<a class="self-link" aria-label="§" href="#sec-enc-compression"></a></h6>

							<p>儲存在ZIP容器中，<a href="#dfn-non-codec" class="internalDFN" data-link-type="dfn">非編碼</a>內容類型的資料流<em class="rfc2119" title="SHOULD">應該</em>在加密前壓縮，<em class="rfc2119" title="MUST">必需</em>使用Deflate壓縮。這種做法可確保存放在ZIP容器中的檔案能夠佔較少的空間。</p>

							<p><a href="#dfn-codec" class="internalDFN" data-link-type="dfn">編碼</a>內容類型的資料<em class="rfc2119" title="SHOULD NOT">不應</em>在加密前壓縮。在這些案例中，額外的壓縮會在製作時產生不必要的處理程序（尤其在處理大型資源檔案時），以及在閱讀時將會影響影音播放效率。在某些案例中，某些加密綱要的組合壓縮可能會降低閱讀系統處理部分內容需求的能力（例如，HTTP位元組範圍byte range），由於技術上無法在媒體播放時判斷完整資源的長度（例如，HTTP內容長度檔頭Content-Length header）。</p>

							<p>在加密前壓縮的資料流<em class="rfc2119" title="SHOULD">應該</em>提供額外的<code>EncryptionProperties</code>詮釋資料來指定初始資源的大小（即為，在壓縮與加密前），如同下列每個<code>Compression</code>XML元素所定義。加密前沒受壓縮的資料流<em class="rfc2119" title="MAY">可以</em>提供額外的<code>EncryptionProperties</code>詮釋資料來指定初始資源的大小（即為，加密前）。</p>

							<dl class="elemdef" id="elemdef-enc-Compression">
								<dt>元素名稱</dt>
								<dd>
									<p>
										<code>Compression</code></p>
								</dd>
								<dt>命名空間</dt>
								<dd>
									<p><code>http://www.idpf.org/2016/encryption#compression</code></p>
								</dd>
								<dt>用法</dt>
								<dd>
									<p><code>EncryptionProperty</code>的<em class="rfc2119" title="OPTIONAL">選擇性</em>子元素。</p>
								</dd>
								<dt>屬性</dt>
								<dd>
									<dl class="variablelist">
										<dt>Method <code> [必要] </code></dt>
										<dd>
											<p>識別所使用的壓縮法。</p>
											<p>值需為「<code>0</code>」（無壓縮）或「<code>8</code>」（Deflate演算法）。</p>
										</dd>
										<dt>OriginalLength <code> [必要] </code></dt>
										<dd>
											<p>代表資源初始大小（位元組數）。</p>
											<p>值為正整數。</p>
										</dd>
									</dl>
								</dd>
								<dt>內容模型</dt>
								<dd>
									<p>空白</p>
								</dd>
							</dl>

							<aside class="example" id="example-6"><div class="marker">
      <a class="self-link" href="#example-6">範例6</a>
    </div>
								<p>以下範例呈現一個MP4檔案經過Deflate壓縮，其原來大小為3500000位元組。</p>
								<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">encryption</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedData</span> <span class="hljs-attr">xmlns:enc</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#"</span>&gt;</span>
        ...
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherReference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"OEPBS/video.mp4"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionProperties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionProperty</span> <span class="hljs-attr">xmlns:ns</span>=<span class="hljs-string">"http://www.idpf.org/2016/encryption#compression"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ns:Compression</span> <span class="hljs-attr">Method</span>=<span class="hljs-string">"8"</span> <span class="hljs-attr">OriginalLength</span>=<span class="hljs-string">"3500000"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptionProperty</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptionProperties</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedData</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">encryption</span>&gt;</span></code></pre>
							</aside>
						</section>
					</section>

					<section id="sec-container-metainf-manifest.xml">
						<h5 id="x3-5-2-3-manifest-file-manifest-xml"><span class="secno">3.5.2.3 </span>宣告檔案 (<code>manifest.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-manifest.xml"></a></h5>

						<p><code>META-INF</code>資料夾裡<em class="rfc2119" title="OPTIONAL">選擇性</em>的<code>manifest.xml</code>檔案提供了對容器裡檔案的宣告。</p>

						<p>OCF規格不強制指定宣告的格式。</p>

						<p>請注意在<a href="epub-spec.html#dfn-package-document">包裝文件</a>中的<code>manifest</code>元素為唯一用於處理該內容釋義的宣告。包含在ZIP封存中的額外宣告資訊或者<em class="rfc2119" title="OPTIONAL">選擇性</em>的<code>manifest.xml</code><em class="rfc2119" title="MUST NOT">不得</em>被用於處理內容釋義。</p>
						<div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="6"><span>注意事項</span></div><div class="">本功能僅為了相容於 [<cite><a class="bibref" href="#bib-odf">ODF</a></cite>] 續存。</div></div>

					</section>

					<section id="sec-container-metainf-metadata.xml">
						<h5 id="x3-5-2-4-metadata-file-metadata-xml"><span class="secno">3.5.2.4 </span>詮釋資料檔案 (<code>metadata.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-metadata.xml"></a></h5>

						<p><code>META-INF</code>資料夾裡若有<em class="rfc2119" title="OPTIONAL">選擇性</em>的<code>META-INF/metadata.xml</code>檔案，則必需用於容器層級的詮釋資料。</p>

						<p>若有<code>metadata.xml</code>檔案，其內容<em class="rfc2119" title="SHOULD">應該</em>僅包含命名空間認可的元素 [<cite><a class="bibref" href="#bib-xml-names">XML-NAMES</a></cite>] 。該檔案<em class="rfc2119" title="SHOULD">應該</em>包含根元素<code>metadata</code>，其命名空間為<code>http://www.idpf.org/2013/metadata</code>，但其他根元素可以用於向後相容目的。閱讀系統<em class="rfc2119" title="SHOULD">應該</em>忽略根元素無法識別之<code>metadata.xml</code>。</p>

						<p>本版本的OCF規格不定義供<code>metadata.xml</code>檔案使用的詮釋資料格式。容器層級的詮釋資料<em class="rfc2119" title="MAY">可以</em>在本規格的未來版本以及EPUB延伸規格中定義。</p>

					</section>

					<section id="sec-container-metainf-rights.xml">
						<h5 id="x3-5-2-5-rights-management-file-rights-xml"><span class="secno">3.5.2.5 </span>權利管理檔案 (<code>rights.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-rights.xml"></a></h5>

						<p><code>META-INF</code>資料夾裡<em class="rfc2119" title="OPTIONAL">選擇性</em>的<code>rights.xml</code>為供數位權利管理（DRM）資訊所保留，目的為讓EPUB出版品能在權利人、中介與使用者間可被信任地傳遞。</p>

						<p>本版本的OCF規格不要求特定格式的DRM資訊，但未來版本可能會要求。<code>rights.xml</code>的內容<em class="rfc2119" title="SHOULD">應該</em>僅包含命名空間認可的元素 [<cite><a class="bibref" href="#bib-xml-names">XML-NAMES</a></cite>] ，以避免與未來的格式產生斷裂。</p>

						<p>當<code>rights.xml</code>檔案不存在時，該容器中沒有任何部分在容器層級上受到權利管控。但權利表述可能存在於容納的內容釋義。</p>

						<p>如果<code>rights.xml</code>不存在時，OCF抽象容器沒有任何部分受到權利管控。</p>

					</section>

					<section id="sec-container-metainf-signatures.xml">
						<h5 id="x3-5-2-6-digital-signatures-file-signatures-xml"><span class="secno">3.5.2.6 </span>數位簽章檔案 (<code>signatures.xml</code>)<a class="self-link" aria-label="§" href="#sec-container-metainf-signatures.xml"></a></h5>

						<div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="6"><span>注意事項</span></div><div class="">
							<p>添加數位簽章並不保證EPUB檔案不受到變更，主要因為閱讀系統不被要求必須確認簽章。</p>
						</div></div>

						<p><code>META-INF</code>資料夾裡<em class="rfc2119" title="OPTIONAL">選擇性</em>的<code>signatures.xml</code>包含供容器與其內容的數位簽章。本檔案的內容<em class="rfc2119" title="MUST">必需</em>合乎定義在「<a href="#app-schema-signatures">供<code>signatures.xml</code>使用的綱要</a>」裡提供的綱要。</p>

						<p><code>signatures.xml</code>檔案的根元素為<code>signatures</code>元素。該元素包含類型子元素<code>Signature</code>如 [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] 所定義。簽章可套用於一本EPUB出版品的整體或者其部分，並且可以指定用於簽署任何種類的資料（即為，不只是XML）。</p>

						<p>當<code>signatures.xml</code>不存在時，該容器中沒有任何部分在容器層級上受到數位簽署。但<a href="epub-spec.html#dfn-epub-publication">EPUB出版品</a>中可能存在數位簽署。</p>

						<p id="sig-container">當資料簽章為該容器所創建，其簽章<em class="rfc2119" title="SHOULD">應該</em>被加到<code>signatures</code>元素中最後一個子<code>Signature</code>元素。</p>

						<div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="6"><span>注意事項</span></div><div class="">
							<p>每一個在<code>signatures.xml</code>中的<code>Signature</code>由IRI所識別其簽章所適用的資料，使用 [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] <code>Manifest</code>元素以及其<code>Reference</code>子元素。獨立涵蓋的檔案可以被分別或者一起簽署。對每個檔案個別簽署時會創建資源的摘要值以能被獨立驗證。這種方式會讓簽章元素變大。如果檔案被一起簽署，簽署檔案的集合可以被列於單一XML簽章<code>Manifest</code>元素以讓一或多個<code>Signature</code>元素參照。</p>
						</div></div>

						<p id="sig-restrictions">所有位於容器中的檔案都可以被完整簽署，除了自身包含計算過的簽章資訊的<code>signatures.xml</code>檔案。不管<code>signatures.xml</code>如何被簽署或者簽署者的目的為何。</p>

						<p>當簽署者想要為容器允許加入或者移除簽章，卻沒有無效化簽署者簽章時，<code>signatures.xml</code><em class="rfc2119" title="SHOULD NOT">不應</em>被簽署。</p>

						<p>如果簽署者想要對添加或者移除簽章以無效化簽署者的簽章時，可應用定義於<a href="https://www.w3.org/TR/2008/REC-xmldsig-core-20080610/#sec-EnvelopedSignature">6.6.4節</a>中 [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] 的Enveloped Signature transform以簽署整個預先存在的簽署檔，而非創建<code>Signature</code>。這種變形手段可以簽署所有之前的簽章，而在後續簽章加入套件時會變成無效。</p>

						<div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="6"><span>注意事項</span></div><div class="">
							<p>如果簽署者想要移除既有的簽章使簽署者的簽章無效化，但也希望能夠允許添加簽章，可以適用XPath transform來僅對存在的簽章進行簽署。然而，像這樣變形的細節在本規格的目的之外。</p>
						</div></div>

						<p> [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] 規格與簽章的沒有任何語意關聯，使用者端可以包含語意資訊，例如，在簽章元素加入資訊來說明該簽章。 [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] 規格解釋如何為簽章加入額外資訊，例如使用<code>SignatureProperties</code>元素。</p>

						<aside class="example" id="example-7"><div class="marker">
      <a class="self-link" href="#example-7">範例7</a>
    </div>
							<p>以下XML表述呈現一個<em>signatures.xml</em>檔案範例，其基於<a href="https://www.w3.org/TR/2008/REC-xmldsig-core-20080610/#sec-Overview">第2章</a> [<cite><a class="bibref" href="#bib-xmldsig-core1">XMLDSIG-CORE1</a></cite>] 中的範例。其包含一個簽章，該簽章適用於兩個容器中的資源<code class="filename">EPUB/book.xhtml</code>與<code>EPUB/images/cover.jpeg</code>。</p>
							<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">signatures</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Signature</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"sig"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SignedInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">CanonicalizationMethod</span> 
                <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">SignatureMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#dsa-sha1"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"#Manifest1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span>j6lwx3rvEPO0vKtMup4NbeVu8nk=<span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SignedInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SignatureValue</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">SignatureValue</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">KeyValue</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DSAKeyValue</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Q</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">Q</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">G</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">G</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Y</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">Y</span>&gt;</span> 
                <span class="hljs-tag">&lt;/<span class="hljs-name">DSAKeyValue</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">KeyValue</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Object</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Manifest</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"Manifest1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/book.xhtml"</span>&gt;</span>                    
                    <span class="hljs-tag">&lt;<span class="hljs-name">Transforms</span>&gt;</span>                                                
                        <span class="hljs-tag">&lt;<span class="hljs-name">Transform</span>
                            <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>                        
                    <span class="hljs-tag">&lt;/<span class="hljs-name">Transforms</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/images/cover.jpeg"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Transforms</span>&gt;</span>                                                
                        <span class="hljs-tag">&lt;<span class="hljs-name">Transform</span>
                            <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>                        
                    <span class="hljs-tag">&lt;/<span class="hljs-name">Transforms</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Object</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Signature</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">signatures</span>&gt;</span></code></pre>
						</aside>

					</section>

				</section>

			</section>

		</section>
		<section id="sec-container-zip">
			<!--OddPage--><h2 id="x4-ocf-zip-container"><span class="secno">4. </span>OCF ZIP容器<a class="self-link" aria-label="§" href="#sec-container-zip"></a></h2>

			<section id="sec-container-zip-intro" class="informative">
				<h3 id="x4-1-introduction"><span class="secno">4.1 </span>導論<a class="self-link" aria-label="§" href="#sec-container-zip-intro"></a></h3><p><em>本章節為非規範性。</em></p>

				<p><a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>為實體單一檔案，宣告了<a href="#dfn-ocf-abstract-container" class="internalDFN" data-link-type="dfn">OCF抽象容器</a>。該容器用於：</p>

				<ul>
					<li>
						<p>在不同個人及/或不同組織間交換進行中的<a href="epub-spec.html#dfn-epub-publication">EPUB出版品</a>；</p>
					</li>
					<li>
						<p>讓EPUB出版品由一個出版社或者轉檔公司遞送到經銷或銷售管道；以及</p>
					</li>
					<li>
						<p>將EPUB出版品遞交給<a href="epub-spec.html#dfn-epub-reading-system">EPUB閱讀系統</a>或使用者。</p>
					</li>
				</ul>

			</section>

			<section id="sec-zip-container-zipreqs">
				<h3 id="x4-2-zip-file-requirements"><span class="secno">4.2 </span>ZIP檔案需求<a class="self-link" aria-label="§" href="#sec-zip-container-zipreqs"></a></h3>

				<p><a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>使用ZIP格式如 [<cite><a class="bibref" href="#bib-zip">ZIP</a></cite>] 所描述，但有著以下限制與澄清：</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-zip-abstr"><span class="link-marker"><a href="#confreq-zip-abstr" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器的內容<em class="rfc2119" title="MUST">必需</em>為合乎規定的<a href="#sec-container-abstract">OCF抽象容器</a>。</p>
					</li>
					<li>
						<p id="confreq-zip-mult"><span class="link-marker"><a href="#confreq-zip-mult" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器<em class="rfc2119" title="MUST NOT">不得</em>使用ZIP應用程式備忘 [<cite><a class="bibref" href="#bib-zip">ZIP</a></cite>] 中的功能讓ZIP檔案跨多個儲存媒體，或者分割為複數檔案。<a href="#dfn-ocf-processor">OCF處理器</a><em class="rfc2119" title="MUST">必需</em>在處理任何OCF檔案時，將指定ZIP檔分割跨多重儲存媒體的狀況視為錯誤。</p>
					</li>
					<li>
						<p id="confreq-zip-comp"><span class="link-marker"><a href="#confreq-zip-comp" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器<em class="rfc2119" title="MUST">必需</em>在ZIP封裝中僅包含儲存（無壓縮）及採Deflate演算法壓縮的ZIP內容。OCF處理器<em class="rfc2119" title="MUST">必需</em>處理任何使用非Delate演算法的壓縮技術之OCF容器視為錯誤。</p>
					</li>
					<li>
						<p id="confreq-zip-64"><span class="link-marker"><a href="#confreq-zip-64" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器<em class="rfc2119" title="MAY">可以</em>使用在應用程式備忘 [<cite><a class="bibref" href="#bib-zip">ZIP</a></cite>] 中第5章G節定義為「Version 1」的ZIP64延伸，以及<em class="rfc2119" title="SHOULD">應該</em>僅在內容需要他們時使用這些延伸。OCF處理器<em class="rfc2119" title="MUST">必需</em>支援定義為「version 1」的ZIP64延伸。</p>
					</li>
					<li>
						<p id="confreq-zip-enc"><span class="link-marker"><a href="#confreq-zip-enc" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器<em class="rfc2119" title="MUST NOT">不得</em>使用由ZIP格式定義的加密功能；取而代之，加密<em class="rfc2119" title="MUST">必需</em>使用<a href="#sec-container-metainf-encryption.xml">加密檔案（<code>encryption.xml</code>）</a>中所說明的功能來完成。OCF處理器<em class="rfc2119" title="MUST">必需</em>處理使用ZIP加密功能的OCF ZIP容器為錯誤。</p>
					</li>
					<li>
						<p id="confreq-zip-preserve"><span class="link-marker"><a href="#confreq-zip-preserve" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF處理器不需要在讀取與存檔程序中保存來自OCF ZIP容器的資訊，由於在OCF抽象容器中並未定義；詳細說明，OCF處理器不需要保存CRC值、註解欄位或者其他欄位保存系統資訊以呼應特殊作業系統（例如，<em class="firstterm">外部檔案屬性</em>與<em class="firstterm">額外的欄位</em>）。</p>
					</li>
					<li>
						<p id="confreq-zip-utf8"><span class="link-marker"><a href="#confreq-zip-utf8" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF ZIP容器<em class="rfc2119" title="MUST">必需</em>使用UTF-8 [<cite><a class="bibref" href="#bib-unicode">Unicode</a></cite>] 為檔案系統名稱編碼。</p>
					</li>
				</ul>

				<p>以下限制適用於OCF ZIP容器封存的特殊欄位：</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-zip-fld-version"><span class="link-marker"><a href="#confreq-zip-fld-version" class="hidden-reveal"><span>&nbsp;</span></a> </span>在本地檔案檔頭表格中，OCF ZIP容器<em class="rfc2119" title="MUST">必需</em>設定<code class="literal">version needed to extract</code>欄位，值為<code>10</code>、<code>20</code>或者<code>45</code>，以符合該檔案的最大版本等級（例如，<code>20</code>代表需要Deflate演算法，<code>45</code>則是需要ZIP64）。OCF處理器<em class="rfc2119" title="MUST">必需</em>將其他值視為錯誤。</p>
					</li>
					<li>
						<p id="confreq-zip-fld-comp"><span class="link-marker"><a href="#confreq-zip-fld-comp" class="hidden-reveal"><span>&nbsp;</span></a> </span>在本地檔案檔頭表格中，OCF ZIP容器<em class="rfc2119" title="MUST">必需</em>設定其<code class="literal">compression</code>方法欄位的值為<code>0</code>或<code>8</code>。OCF處理器<em class="rfc2119" title="MUST">必需</em>將其他值視為錯誤。</p>
					</li>
					<li>
						<p id="confreq-zip-fld-er"><span class="link-marker"><a href="#confreq-zip-fld-er" class="hidden-reveal"><span>&nbsp;</span></a> </span>OCF處理器<em class="rfc2119" title="MUST">必需</em>將有<code>Archive decryption header</code>或者一個<code>Archive extra data record</code>的OCF ZIP容器視為錯誤。</p>
					</li>
				</ul>

			</section>

			<section id="sec-zip-container-mime">
				<h3 id="x4-3-ocf-zip-container-media-type-identification"><span class="secno">4.3 </span>OCF ZIP容器媒體類型識別<a class="self-link" aria-label="§" href="#sec-zip-container-mime"></a></h3>

				<p>OCF ZIP容器中第一個檔案<em class="rfc2119" title="MUST">必需</em>為<code>mimetype</code>檔案，其須符合以下需求：</p>
					<ul>
						<li><code>mimetype</code>檔案的內容<em class="rfc2119" title="MUST">必需</em>為MIME媒體類型 [<cite><a class="bibref" href="#bib-rfc2046">RFC2046</a></cite>] 字串<code>application/epub+zip</code>且以US-ASCII編碼 [<cite><a class="bibref" href="#bib-us-ascii">US-ASCII</a></cite>] 。</li>
						<li><code>mimetype</code>檔案<em class="rfc2119" title="MUST NOT">不得</em>包含任何開頭或結尾佔位符號或者空白。</li>
						<li><code>mimetype</code>檔案<em class="rfc2119" title="MUST NOT">不得</em>以Unicode位元順序標記U+FEFF開始。</li>
						<li><code>mimetype</code>檔案<em class="rfc2119" title="MUST NOT">不得</em>被壓縮或者加密，也<em class="rfc2119" title="MUST NOT">不得</em>有額外欄位在其ZIP檔頭。</li>
					</ul>
				<div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>注意事項</span></div><div class="">
					<p>參考<a href="#app-media-type">附錄C，<em><code>application/epub+zip</code>媒體類型</em></a>以了解關於<code>application/epub+zip</code>媒體類型的進一步資訊。</p>
				</div></div>

			</section>

		</section>
		<section id="sec-resource-obfuscation">
			<!--OddPage--><h2 id="x5-resource-obfuscation"><span class="secno">5. </span>資源模糊化<a class="self-link" aria-label="§" href="#sec-resource-obfuscation"></a></h2>

			<section id="fobfus-intro" class="informative">
				<h3 id="x5-1-introduction"><span class="secno">5.1 </span>導論<a class="self-link" aria-label="§" href="#fobfus-intro"></a></h3><p><em>本章節為非規範性。</em></p>

				<p>由於<a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>基本上是一個ZIP檔案，一般常見的ZIP工具都可以用於從其包裝中解壓縮未加密的內容流。此外，ZIP檔案的特性表示其內容可以如其他原生容器在一些系統上（例如，資料夾）顯示。</p>

				<p>ZIP檔案的單純很便於使用，但也產生了一個問題，不加密的副作用是易於提取資源，而這不是期盼的結果。例如，<a href="epub-spec.html#dfn-author">作者</a>想要包含第三方字體時，一般不會希望字體被解壓縮並且被其他人使用。更重要的是，許多商用字體允許被嵌入，但嵌入字體即代表其為EPUB出版品整體的一部分，不只是隨著內容提供其原始字體。</p>

				<p>雖然現在作業系統普遍整合了ZIP支援，但只是把字體置放到ZIP封裝並不足以表示其不想被用於其他脈絡的意圖。這種不確定性會損害EPUB出版品中相當有用的嵌入字體能耐。</p>

				<p>為了避免字體受到使用，有些字體提供者可能僅會在以某些方法與EPUB出版品連結的狀況下，才允許使用它們的字體於EPUB出版品。即為，當字型檔案不能以預設工具被直接安裝在裝置中供作業系統使用，也不能被其他EPUB出版品所直接使用。</p>

				<p>提供數位權利管理或者強制系統供這些資源使用超過本規格的目標。本章節則以定義模糊化的方法取代，其需要花額外的功夫在最終OCF收受端以增加對任何模糊化資源的一般性存取。</p>

				<p>請注意，本規格並不將其宣稱為加密，也不能保障資源安全無虞不受侵權。然而，僅希望這項演算法將會符合多數提供者希望為其資源提供一些保障，而不會簡單地透過對容器解壓縮就能取出。</p>

				<p>在字體的案例中，主要使用的方法是模糊化，定義的機制將簡單地提供阻擋方式來避免人們沒有注意到授權細節。其將無法避免有意圖的使用者獲得對字體的完整存取權。對該OCF容器而言，則可以套用該定義的演算法來取出原始字型檔案。本模糊手段是否能滿足個別字體的授權，依然還需詢問授權者與被授權者。</p>

			</section>

			<section id="obfus-keygen">
				<h3 id="x5-2-obfuscation-key"><span class="secno">5.2 </span>模糊化密鑰<a class="self-link" aria-label="§" href="#obfus-keygen"></a></h3>

				<p>用於模糊化演算法的密鑰，由<a href="#dfn-default-rendition">預設內容釋義</a>的<a href="epub-spec.html#dfn-unique-identifier">獨特識別碼</a>所取得。</p>

				<p>所有空白字元，如<a href="https://www.w3.org/TR/2008/REC-xml-20081126/#sec-common-syn">XML 1.0規格 [<cite><a class="bibref" href="#bib-xml">XML</a></cite>] 中2.3節</a>所定義，<em class="rfc2119" title="MUST">必需</em>由識別碼中移除 — 尤其是Unicode碼點<code>U+0020</code>、<code>U+0009</code>、<code>U+000D</code>與<code>U+000A</code>。</p>

				<p>UTF-8表意的SHA-1摘要結果字串<em class="rfc2119" title="SHOULD">應該</em>被取得以被安全雜湊標準（Secure Hash Standard） [<cite><a class="bibref" href="#bib-fips-180-4">FIPS-180-4</a></cite>] 所指定。其摘要即直接作為演算法密鑰使用。</p>

			</section>

			<section id="obfus-algorithm">
				<h3 id="x5-3-obfuscation-algorithm"><span class="secno">5.3 </span>模糊化演算法<a class="self-link" aria-label="§" href="#obfus-algorithm"></a></h3>

				<p>部署供模糊化資源的演算法固定調整最初檔案的1040位元組（~1KB）。在罕見的狀態下，檔案小於1040位元組時，則整個檔案都會變動。</p>

				<p>為了模糊化原始資料，結論上使用邏輯互斥或（logical exclusive or, XOR）於原始檔案的第一個位元組，以及將<a href="#obfus-keygen">模糊化密鑰</a>的第一個位元組儲存作為嵌入資源的第一個位元組。</p>

				<p>本程序將逐來源檔案和密鑰的位元組重複，持續到所有密鑰的位元組都被使用完畢。此時，處理將會繼續從密鑰的第一個位元組與來源的第21個位元組開始。當1040個位元組以這種方式編碼後（或者到達來源的結束時），任何來源中剩下的資料都將直接複製到結果檔。</p>

				<p>資源模糊化<em class="rfc2119" title="MUST">必需</em>發生早於壓縮及加入OCF容器前。請注意模糊化不是加密，本需求不會違反<a href="#sec-container-metainf-encryption.xml">加密檔案（<code>encryption.xml</code>）</a>在加密前先壓縮資源的規則。</p>

				<aside class="example" id="example-8"><div class="marker">
      <a class="self-link" href="#example-8">範例8</a>
    </div>
					<p>以下假代碼展示了模糊化演算法。</p>
					<pre class="programlisting" aria-busy="false"><code class="hljs">set ocf to OCF container file
set source to file
set destination to obfuscated file
set keyData to key for file
set outer to 0
while outer &lt; 52 and not (source at EOF)
    set inner to 0
    while inner &lt; 20 and not (source at EOF)
        read 1 byte from source     //Assumes read advances file position
        set sourceByte to result of read
        set keyByte to byte inner of keyData
        set obfuscatedByte to (sourceByte XOR keyByte)
        write obfuscatedByte to destination
        increment inner
    end while
    increment outer
end while
if not (source at EOF) then
    read source to EOF
    write result of read to destination
end if
Deflate destination
store destination as source in ocf</code></pre>
				</aside>

				<p>為了恢復成原來的字型檔案，程序僅要簡單地反向進行：來源檔案變成模糊化資料，而其結果檔案將包含原始資料。</p>

				<div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>注意事項</span></div><div class="">
					<p>對字體的模糊化早在EPUB 3.0.1版就已經允許使用，但沒有指定模糊化與壓縮的順序。結果而言，在解壓縮與去模糊化後可能會得到不合規的字體。在這些狀況下，在解壓縮前對資料進行去模糊化可能取得合規的字體。本規格不要求對這種逆向方法的支援，原因是不適用本版本規格，但其可能需要納入對EPUB 3內容的一般支援。</p>
				</div></div>

			</section>

			<section id="obfus-specifying">
				<h3 id="x5-4-specifying-obfuscated-resources"><span class="secno">5.4 </span>指定模糊化資源<a class="self-link" aria-label="§" href="#obfus-specifying"></a></h3>

				<p>儘管技術上並非對資料加密，所有模糊化資源<em class="rfc2119" title="MUST">必需</em>在該EPUB出版品中的<code class="filename">encryption.xml</code>檔案中登錄（請見<a href="#sec-container-metainf-encryption.xml">加密檔案（<code>encryption.xml</code>）</a>）。</p>

				<p><code>EncryptedData</code>元素<em class="rfc2119" title="MUST">必需</em>包含每一個模糊化資源。每一個<code>EncryptedData</code>元素<em class="rfc2119" title="MUST">必需</em>包含一個<code>EncryptionMethod</code>子元素，其<code>Algorithm</code>屬性之值設定為<code>http://www.idpf.org/2008/embedding</code>。這項屬性出現代表使用本規格所闡釋的演算法。對模糊化資源的路徑<em class="rfc2119" title="MUST">必需</em>被列於<code>CipherData</code>元素中的 <code>CipherReference</code>子元素。</p>

				<aside class="example" id="example-9"><div class="marker">
      <a class="self-link" href="#example-9">範例9</a>
    </div>
					<p>以下範例顯示一筆在<code>encryption.xml</code>檔案裡的模糊化字型資料。</p>
					<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">encryption</span> 
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span> 
    <span class="hljs-attr">xmlns:enc</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedData</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.idpf.org/2008/embedding"</span>/&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span> 
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherReference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/Fonts/BKANT.TTF"</span>/&gt;</span>  
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedData</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">encryption</span>&gt;</span></code></pre>
				</aside>

				<p>為了避免無意義地複製嵌入資源到其他EPUB出版品，<a href="#obfus-keygen">模糊化密鑰</a><em class="rfc2119" title="MUST NOT">不得</em>在<code>encryption.xml</code>檔案中提供。</p>

			</section>

		</section>
		<section class="appendix" id="app-schemas">
			<!--OddPage--><h2 id="a-schemas"><span class="secno">A. </span>綱要（Schemas）<a class="self-link" aria-label="§" href="#app-schemas"></a></h2>

			<section id="app-schema-container">
				<h3 id="a-1-schema-for-container-xml"><span class="secno">A.1 </span>供<code>container.xml</code>使用的綱要<a class="self-link" aria-label="§" href="#app-schema-container"></a></h3>

				<p>供<code>container.xml</code>檔案使用的綱要可於 <a href="https://github.com/w3c/epubcheck/tree/master/src/main/resources/com/adobe/epubcheck/schema/30/ocf-container-30.nvdl">
						<code>https://github.com/w3c/epubcheck/tree/master/src/main/resources/com/adobe/epubcheck/schema/30/ocf-container-30.nvdl</code></a>取得。</p>

				<p>使用本綱要進行驗證需要支援 [<cite><a class="bibref" href="#bib-relaxng-schema">RelaxNG-Schema</a></cite>] 及 [<cite><a class="bibref" href="#bib-xmlschema-2">XMLSCHEMA-2</a></cite>] 的處理器。</p>

			</section>

			<section id="app-schema-encryption">
				<h3 id="a-2-schema-for-encryption-xml"><span class="secno">A.2 </span>供<code>encryption.xml</code>使用的綱要<a class="self-link" aria-label="§" href="#app-schema-encryption"></a></h3>

				<p>供<code>encryption.xml</code>檔案使用的綱要包含在 [<cite><a class="bibref" href="#bib-xmlsec-rngschema-20130411">XMLSEC-RNGSCHEMA-20130411</a></cite>] 中。</p>

			</section>

			<section id="app-schema-signatures">
				<h3 id="a-3-schema-for-signatures-xml"><span class="secno">A.3 </span>供<code>signatures.xml</code>使用的綱要<a class="self-link" aria-label="§" href="#app-schema-signatures"></a></h3>

				<p>供<code>signatures.xml</code>檔案使用的綱要包含在 [<cite><a class="bibref" href="#bib-xmlsec-rngschema-20130411">XMLSEC-RNGSCHEMA-20130411</a></cite>] 中。</p>

			</section>

		</section>
		<section class="appendix informative" id="example">
			<!--OddPage--><h2 id="b-example"><span class="secno">B. </span>範例<a class="self-link" aria-label="§" href="#example"></a></h2><p><em>本章節為非規範性。</em></p>
			<p>以下範例示範了使用OCF格式於 <a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>中包含簽署及加密的EPUB出版品。</p>

			<aside class="example" id="example-10"><div class="marker">
      <a class="self-link" href="#example-10">範例10</a>
    </div>
				<p>OCF ZIP容器中依序排列的檔案列表</p>
				<pre aria-busy="false"><code class="hljs">mimetype
META-INF/container.xml
META-INF/signatures.xml
META-INF/encryption.xml
EPUB/As_You_Like_It.opf
EPUB/book.html
EPUB/nav.html
EPUB/images/cover.png</code></pre>
			</aside>

			<aside class="example" id="example-11"><div class="marker">
      <a class="self-link" href="#example-11">範例11</a>
    </div>
				<p><code>mimetype</code>檔案的內容</p>
				<pre aria-busy="false"><code class="hljs">application/epub+zip</code></pre>
			</aside>

			<aside class="example" id="example-12"><div class="marker">
      <a class="self-link" href="#example-12">範例12</a>
    </div>
				<p><code>META-INF/container.xml</code>檔案的內容</p>
				<pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rootfiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rootfile</span> <span class="hljs-attr">full-path</span>=<span class="hljs-string">"EPUB/As_You_Like_It.opf"</span>
            <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/oebps-package+xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rootfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
			</aside>

			<aside class="example" id="example-13"><div class="marker">
      <a class="self-link" href="#example-13">範例13</a>
    </div>
				<p><code>META-INF/signatures.xml</code>檔案的內容</p>
				<pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">signatures</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Signature</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"AsYouLikeItSignature"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#"</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!--
             SignedInfo is the information that is actually signed.
             In this case, the SHA-1 algorithm is used to sign the 
             canonical form of the XML documents enumerated in the
             Object element below.
        --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SignedInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">CanonicalizationMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">SignatureMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#dsa-sha1"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"#AsYouLikeIt"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SignedInfo</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!--
             The signed value of the digest above, using the DSA 
             algorithm
        --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SignatureValue</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">SignatureValue</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!--
             The key used to validate the signature
        --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">KeyValue</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DSAKeyValue</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Q</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">Q</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">G</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">G</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Y</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">Y</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">DSAKeyValue</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">KeyValue</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">KeyInfo</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!--
             The list of resources to sign (note that the canonical
             form of XML documents is signed, while the binary form
             of all other resources is used)
        --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Object</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Manifest</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"AsYouLikeIt"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/As_You_Like_It.opf"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Transforms</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Transform</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">Transforms</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/book.html"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Transforms</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Transform</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">Transforms</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Reference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/images/cover.png"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#sha1"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">DigestValue</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DigestValue</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Reference</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Object</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Signature</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">signatures</span>&gt;</span></code></pre>
			</aside>

			<aside class="example" id="example-14"><div class="marker">
      <a class="self-link" href="#example-14">範例14</a>
    </div>
				<p><code>META-INF/encryption.xml</code>檔案的內容</p>
				<pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">encryption</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:opendocument:xmlns:container"</span>
    <span class="hljs-attr">xmlns:enc</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#"</span> <span class="hljs-attr">xmlns:ds</span>=<span class="hljs-string">"http://www.w3.org/2000/09/xmldsig#"</span>&gt;</span>

    <span class="hljs-comment">&lt;!--
         The RSA-encrypted AES-128 symmetric key used to encrypt
         data enumerated in EncryptedData blocks below
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedKey</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"EK"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#rsa-1_5"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyName</span>&gt;</span>John Smith<span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyName</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherValue</span>&gt;</span>xyzabc…<span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherValue</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedKey</span>&gt;</span>

    <span class="hljs-comment">&lt;!--
         Each EncryptedData block identifies a single resource
         that has been encrypted using the AES-128 algorithm.
         The data remains stored, in its encrypted form, in the
         original file within the container.
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedData</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"ED1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#kw-aes128"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ds:RetrievalMethod</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"#EK"</span> <span class="hljs-attr">Type</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#EncryptedKey"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherReference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/book.html"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedData</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptedData</span> <span class="hljs-attr">Id</span>=<span class="hljs-string">"ED2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:EncryptionMethod</span> <span class="hljs-attr">Algorithm</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#kw-aes128"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ds:RetrievalMethod</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"#EK"</span> <span class="hljs-attr">Type</span>=<span class="hljs-string">"http://www.w3.org/2001/04/xmlenc#EncryptedKey"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ds:KeyInfo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherData</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enc:CipherReference</span> <span class="hljs-attr">URI</span>=<span class="hljs-string">"EPUB/images/cover.png"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">enc:CipherData</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">enc:EncryptedData</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">encryption</span>&gt;</span></code></pre>
			</aside>

			<aside class="example" id="example-15"><div class="marker">
      <a class="self-link" href="#example-15">範例15</a>
    </div>
				<p><code>EPUB/As_You_Like_It.opf</code>檔案的內容</p>
				<pre aria-busy="false"><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"3.0"</span>
         <span class="hljs-attr">xml:lang</span>=<span class="hljs-string">"en"</span>
         <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.idpf.org/2007/opf"</span>
         <span class="hljs-attr">unique-identifier</span>=<span class="hljs-string">"pub-id"</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">metadata</span> <span class="hljs-attr">xmlns:dc</span>=<span class="hljs-string">"http://purl.org/dc/elements/1.1/"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:identifier</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"pub-id"</span>&gt;</span>urn:uuid:B9B412F2-CAAD-4A44-B91F-A375068478A0<span class="hljs-tag">&lt;/<span class="hljs-name">dc:identifier</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:language</span>&gt;</span>en<span class="hljs-tag">&lt;/<span class="hljs-name">dc:language</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:title</span>&gt;</span>As You Like It<span class="hljs-tag">&lt;/<span class="hljs-name">dc:title</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:creator</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"creator"</span>&gt;</span>William Shakespeare<span class="hljs-tag">&lt;/<span class="hljs-name">dc:creator</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"dcterms:modified"</span>&gt;</span>2000-03-24T00:00:00Z<span class="hljs-tag">&lt;/<span class="hljs-name">meta</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:publisher</span>&gt;</span>Project Gutenberg<span class="hljs-tag">&lt;/<span class="hljs-name">dc:publisher</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:date</span>&gt;</span>2000-03-24<span class="hljs-tag">&lt;/<span class="hljs-name">dc:date</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"dcterms:dateCopyrighted"</span>&gt;</span>9999-01-01<span class="hljs-tag">&lt;/<span class="hljs-name">meta</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:identifier</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"isbn13"</span>&gt;</span>urn:isbn:9780741014559<span class="hljs-tag">&lt;/<span class="hljs-name">dc:identifier</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dc:identifier</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"isbn10"</span>&gt;</span>0-7410-1455-6<span class="hljs-tag">&lt;/<span class="hljs-name">dc:identifier</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"xml-signature"</span>
              <span class="hljs-attr">href</span>=<span class="hljs-string">"../META-INF/signatures.xml#AsYouLikeItSignature"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">metadata</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"r4915"</span> 
              <span class="hljs-attr">href</span>=<span class="hljs-string">"book.html"</span> 
              <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/xhtml+xml"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"r7184"</span> 
              <span class="hljs-attr">href</span>=<span class="hljs-string">"images/cover.png"</span> 
              <span class="hljs-attr">media-type</span>=<span class="hljs-string">"image/png"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav"</span> 
              <span class="hljs-attr">href</span>=<span class="hljs-string">"nav.html"</span> 
              <span class="hljs-attr">media-type</span>=<span class="hljs-string">"application/xhtml+xml"</span> 
              <span class="hljs-attr">properties</span>=<span class="hljs-string">"nav"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">spine</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">itemref</span> <span class="hljs-attr">idref</span>=<span class="hljs-string">"r4915"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">spine</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">package</span>&gt;</span></code></pre>
			</aside>
		</section>
		<section class="appendix informative" id="app-media-type">
			<!--OddPage--><h2 id="c-the-application-epub-zip-media-type"><span class="secno">C. </span><code>application/epub+zip</code>媒體類型<a class="self-link" aria-label="§" href="#app-media-type"></a></h2><p><em>本章節為非規範性。</em></p>

			<p>本附錄註冊媒體類型<code>application/epub+zip</code>供EPUB開放容器格式（Open Container Format, OCF）使用。</p>

			<p>一個<a href="#dfn-zip-container" class="internalDFN" data-link-type="dfn">OCF ZIP容器</a>，或<a href="epub-spec.html#dfn-epub-container">EPUB容器</a>，檔案為基於 [<cite><a class="bibref" href="#bib-zip">ZIP</a></cite>] 封存格式技術的容器。用於包覆EPUB出版品的內容釋義。OCF與其相關標準由World Wide Web Consortium (W3C)所維護並且定義。</p>

			<dl class="variablelist">
				<dt>MIME媒體類型名稱：</dt>
				<dd>
					<p><code>application</code></p>
				</dd>
				<dt>MIME子類型名稱：</dt>
				<dd>
					<p><code>epub+zip</code></p>
				</dd>
				<dt>必要參數：</dt>
				<dd>
					<p>無。</p>
				</dd>
				<dt>選擇性參數：</dt>
				<dd>
					<p>無。</p>
				</dd>
				<dt>編碼考量：</dt>
				<dd>
					<p>OCF ZIP容器檔案為以<a class="media-type" href="https://www.iana.org/assignments/media-types/application/zip"><code>application/zip</code></a>媒體類型編碼的二進位檔案。</p>
				</dd>
				<dt>安全性考量：</dt>
				<dd>
					<p>所有能夠讀取OCF ZIP容器檔案的處理器應該嚴密地對取得的檔案大小以及合規性進行檢查。</p>
					<p>此外，因為各種不同內容類型可被嵌入到OCF ZIP容器檔案中，<code>application/epub+zip</code>可以敘述為擁有超過此處說明含有安全性問題的內容。然而在這些案例中，僅有在處理器辨別並且處理這些額外內容，或者將內容交派到其他處理器進行進一步處理時，才會遇到這些潛在的安全問題。在這些案例中，安全性問題落於本註冊文件的領域之外。</p>
					<p>適用於<code>application/zip</code>的安全性考量也適用於OCF ZIP容器檔案。</p>
				</dd>
				<dt>互通性考量：</dt>
				<dd>
					<p>無。</p>
				</dd>
				<dt>已發表規格：</dt>
				<dd>
					<p>本媒體類型註冊供EPUB開放容器格式（Open Container Format, OCF）使用，如EPUB開放容器格式(OCF)3.2規格所敘述，位於<a href="https://w3c.github.io/publ-epub-revision/epub32/spec/epub-ocf.html"><code>https://w3c.github.io/publ-epub-revision/epub32/spec/epub-ocf.html</code></a>。
EPUB OCF 3.2規格同時取代<a href="https://tools.ietf.org/html/rfc4839">RFC 4839</a>以及開放容器格式2.0.1規格，其位於<a href="https://www.idpf.org/doc_library/epub/OCF_2.0.1_draft.doc"><code>https://www.idpf.org/doc_library/epub/OCF_2.0.1_draft.doc</code></a>，其也使用<code>application/epub+zip</code>媒體類型。</p>
				</dd>
				<dt>使用該媒體類型的應用程式：</dt>
				<dd>
					<p>本媒體類型廣泛用於遞送EPUB格式的電子書。以下為非窮舉的應用程式列表：</p>
					<ul>
						<li>Adobe Digital Editions</li>
						<li>Aldiko</li>
						<li>Azardi</li>
						<li>Apple iBooks</li>
						<li>Barnes &amp; Noble NOOK</li>
						<li>Bluefire Reader</li>
						<li>Calibre</li>
						<li>Google Play Books</li>
						<li>Kobo</li>
						<li>Microsoft Edge</li>
						<li>Readium</li>
					</ul>
				</dd>
				<dt>額外資訊：</dt>
				<dd>
					<dl class="variablelist">
						<dt>魔術數字：</dt>
						<dd>
							<p>0: <code>PK 0x03 0x04</code>, 30: <code>mimetype</code>, 38:
									<code>application/epub+zip</code></p>
						</dd>
						<dt>副檔名：</dt>
						<dd>
							<p>OCF ZIP容器檔案多半可透過副檔名<code>.epub</code>進行識別。</p>
						</dd>
						<dt>麥金塔檔案類型代碼：</dt>
						<dd>
							<p>ZIP</p>
						</dd>
						<dt>斷片識別碼：</dt>
						<dd>
							<p>連結綱要註冊維護於<a href="https://www.idpf.org/epub/linking/"><code>https://www.idpf.org/epub/linking/</code></a>。這些綱要部分定義了客製化斷片識別碼可解析到<code>application/epub+zip</code>及<code>application/oebps-package+xml</code>文件。</p>
						</dd>
					</dl>
				</dd>
				<dt>進一步資訊的聯絡人與郵件位址：</dt>
				<dd>
					<p>public-epub3@w3.org</p>
				</dd>
				<dt>預計用途：</dt>
				<dd>
					<p>COMMON</p>
				</dd>
				<dt>作者/變更管控：</dt>
				<dd>
					<p>發布的規格是World Wide Web Consortium之EPUB 3社群小組的成果產品。W3C對本規格有變更的管控權。</p>
				</dd>
			</dl>

		</section>
		<section id="app-contributors" class="acknowledgements informative">
	<!--OddPage--><h2 id="d-acknowledgements-and-contributors"><span class="secno">D. </span>謝詞與貢獻者<a class="self-link" aria-label="§" href="#app-contributors"></a></h2><p><em>本章節為非規範性。</em></p>

	<p>EPUB 3由W3C <a href="https://www.w3.org/community/epub3/">EPUB 3社群小組</a>所開發，並且與<a href="https://www.w3.org/community/publishingbg/">出版業界小組</a>相互協力。</p>

	<p>EPUB 3.2改版由以下主導：</p>

	<ul>
		<li>Rachel Comerford (Macmillan Higher Education), Chair</li>
		<li>Dave Cramer (Hachette Livre), Chair</li>
	</ul>

	<p>此外向編輯群致敬，本版本EPUB若缺少以下人物的顯著貢獻，則不可能完成：</p>
	
	<ul>
		<li>Aaron Troia</li>
		<li>Adam Sobieski</li>
		<li>Alberto Pettarin</li>
		<li>Andrew Gribben (Houghton Mifflin Harcourt)</li>
		<li>Avneesh Singh (DAISY Consortium)</li>
		<li>Ben Walters (Microsoft)</li>
		<li>Benjamin Young (Wiley)</li>
		<li>Bill Kasdorf (BISG)</li>
		<li>Brady Duga (Google)</li>
		<li>Carlos Araya</li>
		<li>Charles LaPierre (Benetech)</li>
		<li>Daniel Glazman (Disruptive Innovations)</li>
		<li>Daniel Weck (DAISY Consortium)</li>
		<li>David Herron</li>
		<li>Deborah Kaplan</li>
		<li>Evan Owens (Cenveo Publisher Services)</li>
		<li>Franco Alvarado</li>
		<li>Garth Conboy (Google)</li>
		<li>Georg Stadler</li>
		<li>George Kersher (DAISY Consortium)</li>
		<li>Greg Alchin</li>
		<li>Hadrien Gardeur (Feedbooks)</li>
		<li>Iris Febres</li>
		<li>Ivan Herman (W3C)</li>
		<li>James Briano</li>
		<li>Jeff Buehler</li>
		<li>Johan van der Knijff</li>
		<li>John Costa (Repub Interactive Technologies LLC)</li>
		<li>Julian Calderazi (DigitalBe)</li>
		<li>Ken Jones (Circular Software)</li>
		<li>Krzysztof Zemczak</li>
		<li>Laura Brady</li>
		<li>Laurent Le Meur (EDRLab)</li>
		<li>Léonie Watson (Paciello Group)</li>
		<li>Lloyd Rasmussen (Library of Congress)</li>
		<li>Luc Audrain (Hachette Livre)</li>
		<li>Makoto Murata (Keio Advanced Publishing Laboratory)</li>
		<li>Martin Kraetke (le-tex publishing services GmbH)</li>
		<li>Mateus Manço Teixeira (W. W. Norton)</li>
		<li>Matt Curtis</li>
		<li>Matt Garrish (DAISY Consortium)</li>
		<li>Mike Baker (Houghton Mifflin Harcourt)</li>
		<li>Mustapha Lazrek (Microsoft)</li>
		<li>N. Erhan Uzumcu</li>
		<li>Naomi Kennedy (Penguin Random House)</li>
		<li>Nick Ruffilo (VitalSource)</li>
		<li>Olaf Hoffmann</li>
		<li>Peter Krautzberger (krautzource UG)</li>
		<li>Rachel Comerford (Macmillan Higher Education)</li>
		<li>Ric Wright</li>
		<li>Rick Johnson (VitalSource)</li>
		<li>Romain Deltour (DAISY Consortium)</li>
		<li>Ruth Tait</li>
		<li>Theresa O’Connor (Apple)</li>
		<li>Tobias Fischer</li>
		<li>Toshiaki Koike (Voyager Japan Inc.)</li>
		<li>Tzviya Siegman (Wiley)</li>
		<li>Wolfgang Schindler (PONS GmbH)</li>
		<li>Zheng (Jeff) Xu (Rakuten Inc.)</li>
	</ul>

	<p>特別感謝IDPF的前會員，尤其是Markus Gylling與Bill McCoy，沒有他們EPUB不可能成真。</p>
</section>

	

<section id="references" class="appendix">
      <!--OddPage--><h2 id="e-references"><span class="secno">E. </span>參考資料<a class="self-link" aria-label="§" href="#references"></a></h2>
      
    <section id="normative-references">
        <h3 id="e-1-normative-references"><span class="secno">E.1 </span>規範性文件<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
      <dl class="bibliography">
        <dt id="bib-csssnapshot"> [CSSSnapshot] </dt><dd><a href="https://www.w3.org/TR/CSS/"><cite>CSS Snapshot</cite></a>. URL: <a href="https://www.w3.org/TR/CSS/">https://www.w3.org/TR/CSS/</a></dd><dt id="bib-epub32"> [EPUB32] </dt><dd><a href="epub-spec.html"><cite>EPUB 3.2</cite></a>. URL: <a href="epub-spec.html">epub-spec.html</a></dd><dt id="bib-fips-180-4"> [FIPS-180-4] </dt><dd><a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf"><cite>FIPS PUB 180-4 Secure Hash Standard</cite></a>.  U.S. Department of Commerce/National Institute of Standards and Technology. URL: <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf</a></dd><dt id="bib-relaxng-schema"> [RelaxNG-Schema] </dt><dd><a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c052348_ISO_IEC_19757-2_2008(E).zip"><cite>Information technology -- Document Schema Definition Language (DSDL) -- Part 2: Regular-grammar-based validation -- RELAX NG</cite></a>.  ISO/IEC. 2008. URL: <a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c052348_ISO_IEC_19757-2_2008(E).zip">http://standards.iso.org/ittf/PubliclyAvailableStandards/c052348_ISO_IEC_19757-2_2008(E).zip</a></dd><dt id="bib-rfc2046"> [RFC2046] </dt><dd><a href="https://tools.ietf.org/html/rfc2046"><cite>Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</cite></a>. N. Freed; N. Borenstein. IETF. November 1996. Draft Standard. URL: <a href="https://tools.ietf.org/html/rfc2046">https://tools.ietf.org/html/rfc2046</a></dd><dt id="bib-rfc2119"> [RFC2119] </dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a></dd><dt id="bib-rfc3986"> [RFC3986] </dt><dd><a href="https://tools.ietf.org/html/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter. IETF. January 2005. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a></dd><dt id="bib-rfc3987"> [RFC3987] </dt><dd><a href="https://tools.ietf.org/html/rfc3987"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>. M. Duerst; M. Suignard. IETF. January 2005. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc3987">https://tools.ietf.org/html/rfc3987</a></dd><dt id="bib-tr15"> [TR15] </dt><dd><a href="http://www.unicode.org/reports/tr15/"><cite>Unicode Normalization Forms</cite></a>. URL: <a href="http://www.unicode.org/reports/tr15/">http://www.unicode.org/reports/tr15/</a></dd><dt id="bib-unicode"> [Unicode] </dt><dd><a href="https://www.unicode.org/versions/latest/"><cite>The Unicode Standard</cite></a>.  Unicode Consortium. URL: <a href="https://www.unicode.org/versions/latest/">https://www.unicode.org/versions/latest/</a></dd><dt id="bib-us-ascii"> [US-ASCII] </dt><dd><cite>"Coded Character Set - 7-bit American Standard Code for Information Interchange", ANSI X3.4, 1986.</cite>. </dd><dt id="bib-xml"> [XML] </dt><dd><a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth Edition)</cite></a>. Tim Bray; Jean Paoli; Michael Sperberg-McQueen; Eve Maler; François Yergeau et al. W3C. 26 November 2008. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a></dd><dt id="bib-xml-names"> [XML-NAMES] </dt><dd><a href="https://www.w3.org/TR/xml-names/"><cite>Namespaces in XML 1.0 (Third Edition)</cite></a>. Tim Bray; Dave Hollander; Andrew Layman; Richard Tobin; Henry Thompson et al. W3C. 8 December 2009. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml-names/">https://www.w3.org/TR/xml-names/</a></dd><dt id="bib-xmldsig-core1"> [XMLDSIG-CORE1] </dt><dd><a href="https://www.w3.org/TR/xmldsig-core1/"><cite>XML Signature Syntax and Processing Version 1.1</cite></a>. Donald Eastlake; Joseph Reagle; David Solo; Frederick Hirsch; Magnus Nyström; Thomas Roessler; Kelvin Yiu. W3C. 11 April 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmldsig-core1/">https://www.w3.org/TR/xmldsig-core1/</a></dd><dt id="bib-xmlenc-core1"> [XMLENC-CORE1] </dt><dd><a href="https://www.w3.org/TR/xmlenc-core1/"><cite>XML Encryption Syntax and Processing Version 1.1</cite></a>. Donald Eastlake; Joseph Reagle; Frederick Hirsch; Thomas Roessler. W3C. 11 April 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlenc-core1/">https://www.w3.org/TR/xmlenc-core1/</a></dd><dt id="bib-xmlenc-decrypt"> [XMLENC-DECRYPT] </dt><dd><a href="https://www.w3.org/TR/xmlenc-decrypt/"><cite>Decryption Transform for XML Signature</cite></a>. Merlin Hughes; Takeshi Imamura; Hiroshi Maruyama. W3C. 10 December 2002. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlenc-decrypt/">https://www.w3.org/TR/xmlenc-decrypt/</a></dd><dt id="bib-xmlschema-2"> [XMLSCHEMA-2] </dt><dd><a href="https://www.w3.org/TR/xmlschema-2/"><cite>XML Schema Part 2: Datatypes Second Edition</cite></a>. Paul V. Biron; Ashok Malhotra. W3C. 28 October 2004. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlschema-2/">https://www.w3.org/TR/xmlschema-2/</a></dd><dt id="bib-xmlsec-rngschema-20130411"> [XMLSEC-RNGSCHEMA-20130411] </dt><dd><a href="https://www.w3.org/TR/2013/NOTE-xmlsec-rngschema-20130411/"><cite>XML Security RELAX NG Schemas</cite></a>. Murata Makoto; Frederick Hirsch. W3C. 11 April 2013. W3C Note. URL: <a href="https://www.w3.org/TR/2013/NOTE-xmlsec-rngschema-20130411/">https://www.w3.org/TR/2013/NOTE-xmlsec-rngschema-20130411/</a></dd><dt id="bib-zip"> [ZIP] </dt><dd><a href="https://www.pkware.com/documents/casestudies/APPNOTE.TXT"><cite>.ZIP File Format Specification</cite></a>. 1 September 2012. Final. URL: <a href="https://www.pkware.com/documents/casestudies/APPNOTE.TXT">https://www.pkware.com/documents/casestudies/APPNOTE.TXT</a></dd>
      </dl></section><section id="informative-references">
        <h3 id="e-2-informative-references"><span class="secno">E.2 </span>參考性文件<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
      <dl class="bibliography">
        <dt id="bib-epub32changes"> [EPUB32Changes] </dt><dd><a href="epub-changes.html"><cite>EPUB 3.2 Changes</cite></a>. URL: <a href="epub-changes.html">epub-changes.html</a></dd><dt id="bib-html"> [HTML] </dt><dd><a href="https://www.w3.org/TR/html/"><cite>HTML</cite></a>.  W3C. W3C Recommendation. URL: <a href="https://www.w3.org/TR/html/">https://www.w3.org/TR/html/</a></dd><dt id="bib-odf"> [ODF] </dt><dd><a href="https://www.oasis-open.org/committees/download.php/12572/OpenDocument-v1.0-os.pdf"><cite>Open Document Format for Office Applications (OpenDocument) v1.0</cite></a>. 1 May 2005. URL: <a href="https://www.oasis-open.org/committees/download.php/12572/OpenDocument-v1.0-os.pdf">https://www.oasis-open.org/committees/download.php/12572/OpenDocument-v1.0-os.pdf</a></dd><dt id="bib-rfc"> [RFC] </dt><dd><a href="https://www.ietf.org/standards/rfcs/"><cite>Request for Comments</cite></a>. URL: <a href="https://www.ietf.org/standards/rfcs/">https://www.ietf.org/standards/rfcs/</a></dd>
      </dl></section></section><p role="navigation" id="back-to-top"><a href="#title"><abbr title="Back to Top">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>
